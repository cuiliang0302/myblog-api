import{K as ze,L as Pt,M as K,N as Ft,O as Xt,P as Ut,h as C,Q as $t,R as q,S as jt,f as $,g as B,F as J,J as ve,i as M,T as ue,U as Se,V as Bt,t as te,m as tt,a as W,r as Me,W as rt,w as I,u as U,p as it,k as ot,j as Z,l as oe,y as He,X as nt,C as at,D as st,n as Rt,q as Wt,v as Dt,Y as Nt,x as qt,b as Vt,H as Gt,I as Jt,G as Fe}from"./index.f8c08d99.js";import{i as Zt,_ as Le}from"./plugin-vue_export-helper.5e9570a6.js";/* empty css               *//* empty css                 */var lt={exports:{}};/*!
 * clipboard.js v2.0.10
 * https://clipboardjs.com/
 *
 * Licensed MIT Â© Zeno Rocha
 */(function(e,r){(function(i,n){e.exports=n()})(ze,function(){return function(){var t={686:function(o,s,l){l.d(s,{default:function(){return Yt}});var p=l(279),a=l.n(p),h=l(370),m=l.n(h),b=l(817),_=l.n(b);function w(O){try{return document.execCommand(O)}catch{return!1}}var x=function(k){var S=_()(k);return w("cut"),S},y=x;function g(O){var k=document.documentElement.getAttribute("dir")==="rtl",S=document.createElement("textarea");S.style.fontSize="12pt",S.style.border="0",S.style.padding="0",S.style.margin="0",S.style.position="absolute",S.style[k?"right":"left"]="-9999px";var T=window.pageYOffset||document.documentElement.scrollTop;return S.style.top="".concat(T,"px"),S.setAttribute("readonly",""),S.value=O,S}var v=function(k){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},T="";if(typeof k=="string"){var A=g(k);S.container.appendChild(A),T=_()(A),w("copy"),A.remove()}else T=_()(k),w("copy");return T},c=v;function u(O){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(S){return typeof S}:u=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},u(O)}var d=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=k.action,T=S===void 0?"copy":S,A=k.container,E=k.target,j=k.text;if(T!=="copy"&&T!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(E!==void 0)if(E&&u(E)==="object"&&E.nodeType===1){if(T==="copy"&&E.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(T==="cut"&&(E.hasAttribute("readonly")||E.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(j)return c(j,{container:A});if(E)return T==="cut"?y(E):c(E,{container:A})},f=d;function z(O){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?z=function(S){return typeof S}:z=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},z(O)}function P(O,k){if(!(O instanceof k))throw new TypeError("Cannot call a class as a function")}function X(O,k){for(var S=0;S<k.length;S++){var T=k[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,T.key,T)}}function H(O,k,S){return k&&X(O.prototype,k),S&&X(O,S),O}function It(O,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(k&&k.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),k&&_e(O,k)}function _e(O,k){return _e=Object.setPrototypeOf||function(T,A){return T.__proto__=A,T},_e(O,k)}function Et(O){var k=Ht();return function(){var T=se(O),A;if(k){var E=se(this).constructor;A=Reflect.construct(T,arguments,E)}else A=T.apply(this,arguments);return zt(this,A)}}function zt(O,k){return k&&(z(k)==="object"||typeof k=="function")?k:Mt(O)}function Mt(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function Ht(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function se(O){return se=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)},se(O)}function Ce(O,k){var S="data-clipboard-".concat(O);if(!!k.hasAttribute(S))return k.getAttribute(S)}var Lt=function(O){It(S,O);var k=Et(S);function S(T,A){var E;return P(this,S),E=k.call(this),E.resolveOptions(A),E.listenClick(T),E}return H(S,[{key:"resolveOptions",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof A.action=="function"?A.action:this.defaultAction,this.target=typeof A.target=="function"?A.target:this.defaultTarget,this.text=typeof A.text=="function"?A.text:this.defaultText,this.container=z(A.container)==="object"?A.container:document.body}},{key:"listenClick",value:function(A){var E=this;this.listener=m()(A,"click",function(j){return E.onClick(j)})}},{key:"onClick",value:function(A){var E=A.delegateTarget||A.currentTarget,j=this.action(E)||"copy",le=f({action:j,container:this.container,target:this.target(E),text:this.text(E)});this.emit(le?"success":"error",{action:j,text:le,trigger:E,clearSelection:function(){E&&E.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(A){return Ce("action",A)}},{key:"defaultTarget",value:function(A){var E=Ce("target",A);if(E)return document.querySelector(E)}},{key:"defaultText",value:function(A){return Ce("text",A)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(A){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return c(A,E)}},{key:"cut",value:function(A){return y(A)}},{key:"isSupported",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],E=typeof A=="string"?[A]:A,j=!!document.queryCommandSupported;return E.forEach(function(le){j=j&&!!document.queryCommandSupported(le)}),j}}]),S}(a()),Yt=Lt},828:function(o){var s=9;if(typeof Element!="undefined"&&!Element.prototype.matches){var l=Element.prototype;l.matches=l.matchesSelector||l.mozMatchesSelector||l.msMatchesSelector||l.oMatchesSelector||l.webkitMatchesSelector}function p(a,h){for(;a&&a.nodeType!==s;){if(typeof a.matches=="function"&&a.matches(h))return a;a=a.parentNode}}o.exports=p},438:function(o,s,l){var p=l(828);function a(b,_,w,x,y){var g=m.apply(this,arguments);return b.addEventListener(w,g,y),{destroy:function(){b.removeEventListener(w,g,y)}}}function h(b,_,w,x,y){return typeof b.addEventListener=="function"?a.apply(null,arguments):typeof w=="function"?a.bind(null,document).apply(null,arguments):(typeof b=="string"&&(b=document.querySelectorAll(b)),Array.prototype.map.call(b,function(g){return a(g,_,w,x,y)}))}function m(b,_,w,x){return function(y){y.delegateTarget=p(y.target,_),y.delegateTarget&&x.call(b,y)}}o.exports=h},879:function(o,s){s.node=function(l){return l!==void 0&&l instanceof HTMLElement&&l.nodeType===1},s.nodeList=function(l){var p=Object.prototype.toString.call(l);return l!==void 0&&(p==="[object NodeList]"||p==="[object HTMLCollection]")&&"length"in l&&(l.length===0||s.node(l[0]))},s.string=function(l){return typeof l=="string"||l instanceof String},s.fn=function(l){var p=Object.prototype.toString.call(l);return p==="[object Function]"}},370:function(o,s,l){var p=l(879),a=l(438);function h(w,x,y){if(!w&&!x&&!y)throw new Error("Missing required arguments");if(!p.string(x))throw new TypeError("Second argument must be a String");if(!p.fn(y))throw new TypeError("Third argument must be a Function");if(p.node(w))return m(w,x,y);if(p.nodeList(w))return b(w,x,y);if(p.string(w))return _(w,x,y);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function m(w,x,y){return w.addEventListener(x,y),{destroy:function(){w.removeEventListener(x,y)}}}function b(w,x,y){return Array.prototype.forEach.call(w,function(g){g.addEventListener(x,y)}),{destroy:function(){Array.prototype.forEach.call(w,function(g){g.removeEventListener(x,y)})}}}function _(w,x,y){return a(document.body,w,x,y)}o.exports=h},817:function(o){function s(l){var p;if(l.nodeName==="SELECT")l.focus(),p=l.value;else if(l.nodeName==="INPUT"||l.nodeName==="TEXTAREA"){var a=l.hasAttribute("readonly");a||l.setAttribute("readonly",""),l.select(),l.setSelectionRange(0,l.value.length),a||l.removeAttribute("readonly"),p=l.value}else{l.hasAttribute("contenteditable")&&l.focus();var h=window.getSelection(),m=document.createRange();m.selectNodeContents(l),h.removeAllRanges(),h.addRange(m),p=h.toString()}return p}o.exports=s},279:function(o){function s(){}s.prototype={on:function(l,p,a){var h=this.e||(this.e={});return(h[l]||(h[l]=[])).push({fn:p,ctx:a}),this},once:function(l,p,a){var h=this;function m(){h.off(l,m),p.apply(a,arguments)}return m._=p,this.on(l,m,a)},emit:function(l){var p=[].slice.call(arguments,1),a=((this.e||(this.e={}))[l]||[]).slice(),h=0,m=a.length;for(h;h<m;h++)a[h].fn.apply(a[h].ctx,p);return this},off:function(l,p){var a=this.e||(this.e={}),h=a[l],m=[];if(h&&p)for(var b=0,_=h.length;b<_;b++)h[b].fn!==p&&h[b].fn._!==p&&m.push(h[b]);return m.length?a[l]=m:delete a[l],this}},o.exports=s,o.exports.TinyEmitter=s}},i={};function n(o){if(i[o])return i[o].exports;var s=i[o]={exports:{}};return t[o](s,s.exports,n),s.exports}return function(){n.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return n.d(s,{a:s}),s}}(),function(){n.d=function(o,s){for(var l in s)n.o(s,l)&&!n.o(o,l)&&Object.defineProperty(o,l,{enumerable:!0,get:s[l]})}}(),function(){n.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)}}(),n(686)}().default})})(lt);var Kt=Pt(lt.exports),Qt=e=>{const r=(e==null?void 0:e.appendToBody)===void 0?!0:e.appendToBody;return{toClipboard(t,i){return new Promise((n,o)=>{const s=document.createElement("button"),l=new Kt(s,{text:()=>t,action:()=>"copy",container:i!==void 0?i:document.body});l.on("success",p=>{l.destroy(),n(p)}),l.on("error",p=>{l.destroy(),o(p)}),r&&document.body.appendChild(s),s.click(),r&&document.body.removeChild(s)})}}};var ce=2,Xe=.16,er=.05,tr=.05,rr=.15,ut=5,ct=4,ir=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Ue(e){var r=e.r,t=e.g,i=e.b,n=Xt(r,t,i);return{h:n.h*360,s:n.s,v:n.v}}function he(e){var r=e.r,t=e.g,i=e.b;return"#".concat(Ft(r,t,i,!1))}function or(e,r,t){var i=t/100,n={r:(r.r-e.r)*i+e.r,g:(r.g-e.g)*i+e.g,b:(r.b-e.b)*i+e.b};return n}function $e(e,r,t){var i;return Math.round(e.h)>=60&&Math.round(e.h)<=240?i=t?Math.round(e.h)-ce*r:Math.round(e.h)+ce*r:i=t?Math.round(e.h)+ce*r:Math.round(e.h)-ce*r,i<0?i+=360:i>=360&&(i-=360),i}function je(e,r,t){if(e.h===0&&e.s===0)return e.s;var i;return t?i=e.s-Xe*r:r===ct?i=e.s+Xe:i=e.s+er*r,i>1&&(i=1),t&&r===ut&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2))}function Be(e,r,t){var i;return t?i=e.v+tr*r:i=e.v-rr*r,i>1&&(i=1),Number(i.toFixed(2))}function Re(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],i=K(e),n=ut;n>0;n-=1){var o=Ue(i),s=he(K({h:$e(o,n,!0),s:je(o,n,!0),v:Be(o,n,!0)}));t.push(s)}t.push(he(i));for(var l=1;l<=ct;l+=1){var p=Ue(i),a=he(K({h:$e(p,l),s:je(p,l),v:Be(p,l)}));t.push(a)}return r.theme==="dark"?ir.map(function(h){var m=h.index,b=h.opacity,_=he(or(K(r.backgroundColor||"#141414"),K(t[m]),b*100));return _}):t}var ke={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},F={},Ae={};Object.keys(ke).forEach(function(e){F[e]=Re(ke[e]),F[e].primary=F[e][5],Ae[e]=Re(ke[e],{theme:"dark",backgroundColor:"#141414"}),Ae[e].primary=Ae[e][5]});F.red;F.volcano;F.gold;F.orange;F.yellow;F.lime;F.green;F.cyan;F.blue;F.geekblue;F.purple;F.magenta;F.grey;var We=[],Q=[],nr="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function ar(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}function sr(e,r){if(r=r||{},e===void 0)throw new Error(nr);var t=r.prepend===!0?"prepend":"append",i=r.container!==void 0?r.container:document.querySelector("head"),n=We.indexOf(i);n===-1&&(n=We.push(i)-1,Q[n]={});var o;return Q[n]!==void 0&&Q[n][t]!==void 0?o=Q[n][t]:(o=Q[n][t]=ar(),t==="prepend"?i.insertBefore(o,i.childNodes[0]):i.appendChild(o)),e.charCodeAt(0)===65279&&(e=e.substr(1,e.length)),o.styleSheet?o.styleSheet.cssText+=e:o.textContent+=e,o}var lr={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"},ur=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,De=!1,cr=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ur;Ut(function(){De||(typeof window!="undefined"&&window.document&&window.document.documentElement&&sr(r,{prepend:!0}),De=!0)})},hr=["class","component","viewBox","spin","rotate","tabindex","onClick"];function pe(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?Object(arguments[r]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.forEach(function(n){ht(e,n,t[n])})}return e}function ht(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function pr(e,r){if(e==null)return{};var t=dr(e,r),i,n;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],!(r.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,i)||(t[i]=e[i]))}return t}function dr(e,r){if(e==null)return{};var t={},i=Object.keys(e),n,o;for(o=0;o<i.length;o++)n=i[o],!(r.indexOf(n)>=0)&&(t[n]=e[n]);return t}var we=function(r,t){var i=t.attrs,n=t.slots,o=pe({},r,i),s=o.class,l=o.component,p=o.viewBox,a=o.spin,h=o.rotate,m=o.tabindex,b=o.onClick,_=pr(o,hr),w=n.default&&n.default(),x=w&&w.length,y=n.component;cr();var g=ht({anticon:!0},s,s),v={"anticon-spin":a===""||!!a},c=h?{msTransform:"rotate(".concat(h,"deg)"),transform:"rotate(".concat(h,"deg)")}:void 0,u=pe({},lr,{viewBox:p,class:v,style:c});p||delete u.viewBox;var d=function(){return l?C(l,u,{default:function(){return[w]}}):y?y(u):x?(Boolean(p)||w.length===1&&w[0]&&w[0].type,C("svg",pe({},u,{viewBox:p}),[w])):null},f=m;return f===void 0&&b&&(f=-1,_.tabindex=f),C("span",pe({role:"img"},_,{onClick:b,class:g}),[d()])};we.props={spin:Boolean,rotate:Number,viewBox:String,ariaLabel:String};we.inheritAttrs=!1;we.displayName="Icon";var fr=we,gr=["type"];function Ne(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?Object(arguments[r]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.forEach(function(n){vr(e,n,t[n])})}return e}function vr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function mr(e,r){if(e==null)return{};var t=br(e,r),i,n;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],!(r.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,i)||(t[i]=e[i]))}return t}function br(e,r){if(e==null)return{};var t={},i=Object.keys(e),n,o;for(o=0;o<i.length;o++)n=i[o],!(r.indexOf(n)>=0)&&(t[n]=e[n]);return t}var pt=new Set;function yr(e){return typeof e=="string"&&e.length&&!pt.has(e)}function me(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=e[r];if(yr(t)){var i=document.createElement("script");i.setAttribute("src",t),i.setAttribute("data-namespace",t),e.length>r+1&&(i.onload=function(){me(e,r+1)},i.onerror=function(){me(e,r+1)}),pt.add(t),document.body.appendChild(i)}}function wr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.scriptUrl,t=e.extraCommonProps,i=t===void 0?{}:t;typeof document!="undefined"&&typeof window!="undefined"&&typeof document.createElement=="function"&&(Array.isArray(r)?me(r.reverse()):me([r]));var n=function(s,l){var p=l.attrs,a=l.slots,h=Ne({},s,p),m=h.type,b=mr(h,gr),_=a.default&&a.default(),w=null;m&&(w=C("use",{"xlink:href":"#".concat(m)},null)),_&&_.length&&(w=_);var x=Ne({},i,b);return C(fr,x,{default:function(){return[w]}})};return n.props={spin:Boolean,rotate:Number,type:String},n.inheritAttrs=!1,n.displayName="Iconfont",n}function dt(){return{MyIcon:wr({scriptUrl:"//at.alicdn.com/t/font_2697113_7qeujo2lc8p.js"})}}var ft={exports:{}};(function(e,r){(function(t,i){e.exports=i()})(ze,function(){return function(t,i,n){t=t||{};var o=i.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function l(a,h,m,b){return o.fromToBase(a,h,m,b)}n.en.relativeTime=s,o.fromToBase=function(a,h,m,b,_){for(var w,x,y,g=m.$locale().relativeTime||s,v=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],c=v.length,u=0;u<c;u+=1){var d=v[u];d.d&&(w=b?n(a).diff(m,d.d,!0):m.diff(a,d.d,!0));var f=(t.rounding||Math.round)(Math.abs(w));if(y=w>0,f<=d.r||!d.r){f<=1&&u>0&&(d=v[u-1]);var z=g[d.l];_&&(f=_(""+f)),x=typeof z=="string"?z.replace("%d",f):z(f,h,d.l,y);break}}if(h)return x;var P=y?g.future:g.past;return typeof P=="function"?P(x):P.replace("%s",x)},o.to=function(a,h){return l(a,h,this,!0)},o.from=function(a,h){return l(a,h,this)};var p=function(a){return a.$u?n.utc():n()};o.toNow=function(a){return this.to(p(this),a)},o.fromNow=function(a){return this.from(p(this),a)}}})})(ft);var xr=ft.exports,_r={exports:{}};(function(e,r){(function(t,i){e.exports=i($t.exports)})(ze,function(t){function i(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var n=i(t),o={name:"zh-cn",weekdays:"\u661F\u671F\u65E5_\u661F\u671F\u4E00_\u661F\u671F\u4E8C_\u661F\u671F\u4E09_\u661F\u671F\u56DB_\u661F\u671F\u4E94_\u661F\u671F\u516D".split("_"),weekdaysShort:"\u5468\u65E5_\u5468\u4E00_\u5468\u4E8C_\u5468\u4E09_\u5468\u56DB_\u5468\u4E94_\u5468\u516D".split("_"),weekdaysMin:"\u65E5_\u4E00_\u4E8C_\u4E09_\u56DB_\u4E94_\u516D".split("_"),months:"\u4E00\u6708_\u4E8C\u6708_\u4E09\u6708_\u56DB\u6708_\u4E94\u6708_\u516D\u6708_\u4E03\u6708_\u516B\u6708_\u4E5D\u6708_\u5341\u6708_\u5341\u4E00\u6708_\u5341\u4E8C\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(s,l){return l==="W"?s+"\u5468":s+"\u65E5"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5E74M\u6708D\u65E5",LLL:"YYYY\u5E74M\u6708D\u65E5Ah\u70B9mm\u5206",LLLL:"YYYY\u5E74M\u6708D\u65E5ddddAh\u70B9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5E74M\u6708D\u65E5",lll:"YYYY\u5E74M\u6708D\u65E5 HH:mm",llll:"YYYY\u5E74M\u6708D\u65E5dddd HH:mm"},relativeTime:{future:"%s\u5185",past:"%s\u524D",s:"\u51E0\u79D2",m:"1 \u5206\u949F",mm:"%d \u5206\u949F",h:"1 \u5C0F\u65F6",hh:"%d \u5C0F\u65F6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4E2A\u6708",MM:"%d \u4E2A\u6708",y:"1 \u5E74",yy:"%d \u5E74"},meridiem:function(s,l){var p=100*s+l;return p<600?"\u51CC\u6668":p<900?"\u65E9\u4E0A":p<1100?"\u4E0A\u5348":p<1300?"\u4E2D\u5348":p<1800?"\u4E0B\u5348":"\u665A\u4E0A"}};return n.default.locale(o,null,!0),o})})(_r);q.extend(xr);q.locale("zh-cn");function gt(){return{timeAgo:n=>q(n).fromNow(),timeDate:n=>q(n).format("YYYY-MM-DD"),timeFull:n=>q(n).format("YYYY-MM-DD HH:mm:ss"),timeFile:n=>q(n).format("YYYY_MM_DD_HH_mm_ss_SSS")}}const vt={};vt.getData=e=>new Promise((r,t)=>{let i={};Cr(e).then(n=>{i.arrayBuffer=n,i.orientation=Or(n),r(i)}).catch(n=>{t(n)})});function Cr(e){let r=null;return new Promise((t,i)=>{if(e.src)if(/^data\:/i.test(e.src))r=kr(e.src),t(r);else if(/^blob\:/i.test(e.src)){var n=new FileReader;n.onload=function(s){r=s.target.result,t(r)},Sr(e.src,function(s){n.readAsArrayBuffer(s)})}else{var o=new XMLHttpRequest;o.onload=function(){if(this.status==200||this.status===0)r=o.response,t(r);else throw"Could not load image";o=null},o.open("GET",e.src,!0),o.responseType="arraybuffer",o.send(null)}else i("img error")})}function Sr(e,r){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="blob",t.onload=function(i){(this.status==200||this.status===0)&&r(this.response)},t.send()}function kr(e){e=e.replace(/^data\:([^\;]+)\;base64,/gmi,"");for(var r=atob(e),t=r.length,i=new ArrayBuffer(t),n=new Uint8Array(i),o=0;o<t;o++)n[o]=r.charCodeAt(o);return i}function Ar(e,r,t){var i="",n;for(n=r,t+=r;n<t;n++)i+=String.fromCharCode(e.getUint8(n));return i}function Or(e){var r=new DataView(e),t=r.byteLength,i,n,o,s,l,p,a,h,m,b;if(r.getUint8(0)===255&&r.getUint8(1)===216)for(m=2;m<t;){if(r.getUint8(m)===255&&r.getUint8(m+1)===225){a=m;break}m++}if(a&&(n=a+4,o=a+10,Ar(r,n,4)==="Exif"&&(p=r.getUint16(o),l=p===18761,(l||p===19789)&&r.getUint16(o+2,l)===42&&(s=r.getUint32(o+4,l),s>=8&&(h=o+s)))),h){for(t=r.getUint16(h,l),b=0;b<t;b++)if(m=h+b*12+2,r.getUint16(m,l)===274){m+=8,i=r.getUint16(m,l);break}}return i}var Tr=(e,r)=>{const t=e.__vccOpts||e;for(const[i,n]of r)t[i]=n;return t};const Ir=jt({data:function(){return{w:0,h:0,scale:1,x:0,y:0,loading:!0,trueWidth:0,trueHeight:0,move:!0,moveX:0,moveY:0,crop:!1,cropping:!1,cropW:0,cropH:0,cropOldW:0,cropOldH:0,canChangeX:!1,canChangeY:!1,changeCropTypeX:1,changeCropTypeY:1,cropX:0,cropY:0,cropChangeX:0,cropChangeY:0,cropOffsertX:0,cropOffsertY:0,support:"",touches:[],touchNow:!1,rotate:0,isIos:!1,orientation:0,imgs:"",coe:.2,scaling:!1,scalingSet:"",coeStatus:"",isCanShow:!0}},props:{img:{type:[String,Blob,null,File],default:""},outputSize:{type:Number,default:1},outputType:{type:String,default:"jpeg"},info:{type:Boolean,default:!0},canScale:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!1},autoCropWidth:{type:[Number,String],default:0},autoCropHeight:{type:[Number,String],default:0},fixed:{type:Boolean,default:!1},fixedNumber:{type:Array,default:()=>[1,1]},fixedBox:{type:Boolean,default:!1},full:{type:Boolean,default:!1},canMove:{type:Boolean,default:!0},canMoveBox:{type:Boolean,default:!0},original:{type:Boolean,default:!1},centerBox:{type:Boolean,default:!1},high:{type:Boolean,default:!0},infoTrue:{type:Boolean,default:!1},maxImgSize:{type:[Number,String],default:2e3},enlarge:{type:[Number,String],default:1},preW:{type:[Number,String],default:0},mode:{type:String,default:"contain"},limitMinSize:{type:[Number,Array,String],default:()=>10}},computed:{cropInfo(){let e={};if(e.top=this.cropOffsertY>21?"-21px":"0px",e.width=this.cropW>0?this.cropW:0,e.height=this.cropH>0?this.cropH:0,this.infoTrue){let r=1;this.high&&!this.full&&(r=window.devicePixelRatio),this.enlarge!==1&!this.full&&(r=Math.abs(Number(this.enlarge))),e.width=e.width*r,e.height=e.height*r,this.full&&(e.width=e.width/this.scale,e.height=e.height/this.scale)}return e.width=e.width.toFixed(0),e.height=e.height.toFixed(0),e},isIE(){return!!window.ActiveXObject||"ActiveXObject"in window},passive(){return this.isIE?null:{passive:!1}}},watch:{img(){this.checkedImg()},imgs(e){e!==""&&this.reload()},cropW(){this.showPreview()},cropH(){this.showPreview()},cropOffsertX(){this.showPreview()},cropOffsertY(){this.showPreview()},scale(e,r){this.showPreview()},x(){this.showPreview()},y(){this.showPreview()},autoCrop(e){e&&this.goAutoCrop()},autoCropWidth(){this.autoCrop&&this.goAutoCrop()},autoCropHeight(){this.autoCrop&&this.goAutoCrop()},mode(){this.checkedImg()},rotate(){this.showPreview(),this.autoCrop?this.goAutoCrop(this.cropW,this.cropH):(this.cropW>0||this.cropH>0)&&this.goAutoCrop(this.cropW,this.cropH)}},methods:{getVersion(e){var r=navigator.userAgent.split(" "),t="";let i=0;const n=new RegExp(e,"i");for(var o=0;o<r.length;o++)n.test(r[o])&&(t=r[o]);return t?i=t.split("/")[1].split("."):i=["0","0","0"],i},checkOrientationImage(e,r,t,i){if(this.getVersion("chrome")[0]>=81)r=-1;else if(this.getVersion("safari")[0]>=605){const s=this.getVersion("version");s[0]>13&&s[1]>1&&(r=-1)}else{const s=navigator.userAgent.toLowerCase().match(/cpu iphone os (.*?) like mac os/);if(s){let l=s[1];l=l.split("_"),(l[0]>13||l[0]>=13&&l[1]>=4)&&(r=-1)}}let n=document.createElement("canvas"),o=n.getContext("2d");switch(o.save(),r){case 2:n.width=t,n.height=i,o.translate(t,0),o.scale(-1,1);break;case 3:n.width=t,n.height=i,o.translate(t/2,i/2),o.rotate(180*Math.PI/180),o.translate(-t/2,-i/2);break;case 4:n.width=t,n.height=i,o.translate(0,i),o.scale(1,-1);break;case 5:n.height=t,n.width=i,o.rotate(.5*Math.PI),o.scale(1,-1);break;case 6:n.width=i,n.height=t,o.translate(i/2,t/2),o.rotate(90*Math.PI/180),o.translate(-t/2,-i/2);break;case 7:n.height=t,n.width=i,o.rotate(.5*Math.PI),o.translate(t,-i),o.scale(-1,1);break;case 8:n.height=t,n.width=i,o.translate(i/2,t/2),o.rotate(-90*Math.PI/180),o.translate(-t/2,-i/2);break;default:n.width=t,n.height=i}o.drawImage(e,0,0,t,i),o.restore(),n.toBlob(s=>{let l=URL.createObjectURL(s);URL.revokeObjectURL(this.imgs),this.imgs=l},"image/"+this.outputType,1)},checkedImg(){if(this.img===null||this.img===""){this.imgs="",this.clearCrop();return}this.loading=!0,this.scale=1,this.rotate=0,this.clearCrop();let e=new Image;if(e.onload=()=>{if(this.img==="")return this.$emit("img-load","error"),!1;let t=e.width,i=e.height;vt.getData(e).then(n=>{this.orientation=n.orientation||1;let o=Number(this.maxImgSize);if(!this.orientation&&t<o&i<o){this.imgs=this.img;return}t>o&&(i=i/t*o,t=o),i>o&&(t=t/i*o,i=o),this.checkOrientationImage(e,this.orientation,t,i)})},e.onerror=()=>{this.$emit("img-load","error")},this.img.substr(0,4)!=="data"&&(e.crossOrigin=""),this.isIE){var r=new XMLHttpRequest;r.onload=function(){var t=URL.createObjectURL(this.response);e.src=t},r.open("GET",this.img,!0),r.responseType="blob",r.send()}else e.src=this.img},startMove(e){if(e.preventDefault(),this.move&&!this.crop){if(!this.canMove)return!1;this.moveX=("clientX"in e?e.clientX:e.touches[0].clientX)-this.x,this.moveY=("clientY"in e?e.clientY:e.touches[0].clientY)-this.y,e.touches?(window.addEventListener("touchmove",this.moveImg),window.addEventListener("touchend",this.leaveImg),e.touches.length==2&&(this.touches=e.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale))):(window.addEventListener("mousemove",this.moveImg),window.addEventListener("mouseup",this.leaveImg)),this.$emit("imgMoving",{moving:!0,axis:this.getImgAxis()}),this.$emit("img-moving",{moving:!0,axis:this.getImgAxis()})}else this.cropping=!0,window.addEventListener("mousemove",this.createCrop),window.addEventListener("mouseup",this.endCrop),window.addEventListener("touchmove",this.createCrop),window.addEventListener("touchend",this.endCrop),this.cropOffsertX=e.offsetX?e.offsetX:e.touches[0].pageX-this.$refs.cropper.offsetLeft,this.cropOffsertY=e.offsetY?e.offsetY:e.touches[0].pageY-this.$refs.cropper.offsetTop,this.cropX="clientX"in e?e.clientX:e.touches[0].clientX,this.cropY="clientY"in e?e.clientY:e.touches[0].clientY,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.cropW=0,this.cropH=0},touchScale(e){e.preventDefault();let r=this.scale;var t={x:this.touches[0].clientX,y:this.touches[0].clientY},i={x:e.touches[0].clientX,y:e.touches[0].clientY},n={x:this.touches[1].clientX,y:this.touches[1].clientY},o={x:e.touches[1].clientX,y:e.touches[1].clientY},s=Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)),l=Math.sqrt(Math.pow(i.x-o.x,2)+Math.pow(i.y-o.y,2)),p=l-s,a=1;a=a/this.trueWidth>a/this.trueHeight?a/this.trueHeight:a/this.trueWidth,a=a>.1?.1:a;var h=a*p;if(!this.touchNow){if(this.touchNow=!0,p>0?r+=Math.abs(h):p<0&&r>Math.abs(h)&&(r-=Math.abs(h)),this.touches=e.touches,setTimeout(()=>{this.touchNow=!1},8),!this.checkoutImgAxis(this.x,this.y,r))return!1;this.scale=r}},cancelTouchScale(e){window.removeEventListener("touchmove",this.touchScale)},moveImg(e){if(e.preventDefault(),e.touches&&e.touches.length===2)return this.touches=e.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale),window.removeEventListener("touchmove",this.moveImg),!1;let r="clientX"in e?e.clientX:e.touches[0].clientX,t="clientY"in e?e.clientY:e.touches[0].clientY,i,n;i=r-this.moveX,n=t-this.moveY,this.$nextTick(()=>{if(this.centerBox){let o=this.getImgAxis(i,n,this.scale),s=this.getCropAxis(),l=this.trueHeight*this.scale,p=this.trueWidth*this.scale,a,h,m,b;switch(this.rotate){case 1:case-1:case 3:case-3:a=this.cropOffsertX-this.trueWidth*(1-this.scale)/2+(l-p)/2,h=this.cropOffsertY-this.trueHeight*(1-this.scale)/2+(p-l)/2,m=a-l+this.cropW,b=h-p+this.cropH;break;default:a=this.cropOffsertX-this.trueWidth*(1-this.scale)/2,h=this.cropOffsertY-this.trueHeight*(1-this.scale)/2,m=a-p+this.cropW,b=h-l+this.cropH;break}o.x1>=s.x1&&(i=a),o.y1>=s.y1&&(n=h),o.x2<=s.x2&&(i=m),o.y2<=s.y2&&(n=b)}this.x=i,this.y=n,this.$emit("imgMoving",{moving:!0,axis:this.getImgAxis()}),this.$emit("img-moving",{moving:!0,axis:this.getImgAxis()})})},leaveImg(e){window.removeEventListener("mousemove",this.moveImg),window.removeEventListener("touchmove",this.moveImg),window.removeEventListener("mouseup",this.leaveImg),window.removeEventListener("touchend",this.leaveImg),this.$emit("imgMoving",{moving:!1,axis:this.getImgAxis()}),this.$emit("img-moving",{moving:!1,axis:this.getImgAxis()})},scaleImg(){this.canScale&&window.addEventListener(this.support,this.changeSize,this.passive)},cancelScale(){this.canScale&&window.removeEventListener(this.support,this.changeSize)},changeSize(e){e.preventDefault();let r=this.scale;var t=e.deltaY||e.wheelDelta,i=navigator.userAgent.indexOf("Firefox");t=i>0?t*30:t,this.isIE&&(t=-t);var n=this.coe;n=n/this.trueWidth>n/this.trueHeight?n/this.trueHeight:n/this.trueWidth;var o=n*t;o<0?r+=Math.abs(o):r>Math.abs(o)&&(r-=Math.abs(o));let s=o<0?"add":"reduce";if(s!==this.coeStatus&&(this.coeStatus=s,this.coe=.2),this.scaling||(this.scalingSet=setTimeout(()=>{this.scaling=!1,this.coe=this.coe+=.01},50)),this.scaling=!0,!this.checkoutImgAxis(this.x,this.y,r))return!1;this.scale=r},changeScale(e){let r=this.scale;e=e||1;var t=20;if(t=t/this.trueWidth>t/this.trueHeight?t/this.trueHeight:t/this.trueWidth,e=e*t,e>0?r+=Math.abs(e):r>Math.abs(e)&&(r-=Math.abs(e)),!this.checkoutImgAxis(this.x,this.y,r))return!1;this.scale=r},createCrop(e){e.preventDefault();var r="clientX"in e?e.clientX:e.touches?e.touches[0].clientX:0,t="clientY"in e?e.clientY:e.touches?e.touches[0].clientY:0;this.$nextTick(()=>{var i=r-this.cropX,n=t-this.cropY;if(i>0?(this.cropW=i+this.cropChangeX>this.w?this.w-this.cropChangeX:i,this.cropOffsertX=this.cropChangeX):(this.cropW=this.w-this.cropChangeX+Math.abs(i)>this.w?this.cropChangeX:Math.abs(i),this.cropOffsertX=this.cropChangeX+i>0?this.cropChangeX+i:0),!this.fixed)n>0?(this.cropH=n+this.cropChangeY>this.h?this.h-this.cropChangeY:n,this.cropOffsertY=this.cropChangeY):(this.cropH=this.h-this.cropChangeY+Math.abs(n)>this.h?this.cropChangeY:Math.abs(n),this.cropOffsertY=this.cropChangeY+n>0?this.cropChangeY+n:0);else{var o=this.cropW/this.fixedNumber[0]*this.fixedNumber[1];o+this.cropOffsertY>this.h?(this.cropH=this.h-this.cropOffsertY,this.cropW=this.cropH/this.fixedNumber[1]*this.fixedNumber[0],i>0?this.cropOffsertX=this.cropChangeX:this.cropOffsertX=this.cropChangeX-this.cropW):this.cropH=o,this.cropOffsertY=this.cropOffsertY}})},changeCropSize(e,r,t,i,n){e.preventDefault(),window.addEventListener("mousemove",this.changeCropNow),window.addEventListener("mouseup",this.changeCropEnd),window.addEventListener("touchmove",this.changeCropNow),window.addEventListener("touchend",this.changeCropEnd),this.canChangeX=r,this.canChangeY=t,this.changeCropTypeX=i,this.changeCropTypeY=n,this.cropX="clientX"in e?e.clientX:e.touches[0].clientX,this.cropY="clientY"in e?e.clientY:e.touches[0].clientY,this.cropOldW=this.cropW,this.cropOldH=this.cropH,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.fixed&&this.canChangeX&&this.canChangeY&&(this.canChangeY=0),this.$emit("change-crop-size",{width:this.cropW,height:this.cropH})},changeCropNow(e){e.preventDefault();var r="clientX"in e?e.clientX:e.touches?e.touches[0].clientX:0,t="clientY"in e?e.clientY:e.touches?e.touches[0].clientY:0;let i=this.w,n=this.h,o=0,s=0;if(this.centerBox){let l=this.getImgAxis(),p=l.x2,a=l.y2;o=l.x1>0?l.x1:0,s=l.y1>0?l.y1:0,i>p&&(i=p),n>a&&(n=a)}this.$nextTick(()=>{var l=r-this.cropX,p=t-this.cropY;if(this.canChangeX&&(this.changeCropTypeX===1?this.cropOldW-l>0?(this.cropW=i-this.cropChangeX-l<=i-o?this.cropOldW-l:this.cropOldW+this.cropChangeX-o,this.cropOffsertX=i-this.cropChangeX-l<=i-o?this.cropChangeX+l:o):(this.cropW=Math.abs(l)+this.cropChangeX<=i?Math.abs(l)-this.cropOldW:i-this.cropOldW-this.cropChangeX,this.cropOffsertX=this.cropChangeX+this.cropOldW):this.changeCropTypeX===2&&(this.cropOldW+l>0?(this.cropW=this.cropOldW+l+this.cropOffsertX<=i?this.cropOldW+l:i-this.cropOffsertX,this.cropOffsertX=this.cropChangeX):(this.cropW=i-this.cropChangeX+Math.abs(l+this.cropOldW)<=i-o?Math.abs(l+this.cropOldW):this.cropChangeX-o,this.cropOffsertX=i-this.cropChangeX+Math.abs(l+this.cropOldW)<=i-o?this.cropChangeX-Math.abs(l+this.cropOldW):o))),this.canChangeY&&(this.changeCropTypeY===1?this.cropOldH-p>0?(this.cropH=n-this.cropChangeY-p<=n-s?this.cropOldH-p:this.cropOldH+this.cropChangeY-s,this.cropOffsertY=n-this.cropChangeY-p<=n-s?this.cropChangeY+p:s):(this.cropH=Math.abs(p)+this.cropChangeY<=n?Math.abs(p)-this.cropOldH:n-this.cropOldH-this.cropChangeY,this.cropOffsertY=this.cropChangeY+this.cropOldH):this.changeCropTypeY===2&&(this.cropOldH+p>0?(this.cropH=this.cropOldH+p+this.cropOffsertY<=n?this.cropOldH+p:n-this.cropOffsertY,this.cropOffsertY=this.cropChangeY):(this.cropH=n-this.cropChangeY+Math.abs(p+this.cropOldH)<=n-s?Math.abs(p+this.cropOldH):this.cropChangeY-s,this.cropOffsertY=n-this.cropChangeY+Math.abs(p+this.cropOldH)<=n-s?this.cropChangeY-Math.abs(p+this.cropOldH):s))),this.canChangeX&&this.fixed){var a=this.cropW/this.fixedNumber[0]*this.fixedNumber[1];a+this.cropOffsertY>n?(this.cropH=n-this.cropOffsertY,this.cropW=this.cropH/this.fixedNumber[1]*this.fixedNumber[0]):this.cropH=a}if(this.canChangeY&&this.fixed){var h=this.cropH/this.fixedNumber[1]*this.fixedNumber[0];h+this.cropOffsertX>i?(this.cropW=i-this.cropOffsertX,this.cropH=this.cropW/this.fixedNumber[0]*this.fixedNumber[1]):this.cropW=h}})},checkCropLimitSize(){let{cropW:e,cropH:r,limitMinSize:t}=this,i=new Array;return Array.isArray[t]?i=t:i=[t,t],e=parseFloat(i[0]),r=parseFloat(i[1]),[e,r]},changeCropEnd(e){window.removeEventListener("mousemove",this.changeCropNow),window.removeEventListener("mouseup",this.changeCropEnd),window.removeEventListener("touchmove",this.changeCropNow),window.removeEventListener("touchend",this.changeCropEnd)},endCrop(){this.cropW===0&&this.cropH===0&&(this.cropping=!1),window.removeEventListener("mousemove",this.createCrop),window.removeEventListener("mouseup",this.endCrop),window.removeEventListener("touchmove",this.createCrop),window.removeEventListener("touchend",this.endCrop)},startCrop(){this.crop=!0},stopCrop(){this.crop=!1},clearCrop(){this.cropping=!1,this.cropW=0,this.cropH=0},cropMove(e){if(e.preventDefault(),!this.canMoveBox)return this.crop=!1,this.startMove(e),!1;if(e.touches&&e.touches.length===2)return this.crop=!1,this.startMove(e),this.leaveCrop(),!1;window.addEventListener("mousemove",this.moveCrop),window.addEventListener("mouseup",this.leaveCrop),window.addEventListener("touchmove",this.moveCrop),window.addEventListener("touchend",this.leaveCrop);let r="clientX"in e?e.clientX:e.touches[0].clientX,t="clientY"in e?e.clientY:e.touches[0].clientY,i,n;i=r-this.cropOffsertX,n=t-this.cropOffsertY,this.cropX=i,this.cropY=n,this.$emit("cropMoving",{moving:!0,axis:this.getCropAxis()}),this.$emit("crop-moving",{moving:!0,axis:this.getCropAxis()})},moveCrop(e,r){let t=0,i=0;e&&(e.preventDefault(),t="clientX"in e?e.clientX:e.touches[0].clientX,i="clientY"in e?e.clientY:e.touches[0].clientY),this.$nextTick(()=>{let n,o,s=t-this.cropX,l=i-this.cropY;if(r&&(s=this.cropOffsertX,l=this.cropOffsertY),s<=0?n=0:s+this.cropW>this.w?n=this.w-this.cropW:n=s,l<=0?o=0:l+this.cropH>this.h?o=this.h-this.cropH:o=l,this.centerBox){let p=this.getImgAxis();n<=p.x1&&(n=p.x1),n+this.cropW>p.x2&&(n=p.x2-this.cropW),o<=p.y1&&(o=p.y1),o+this.cropH>p.y2&&(o=p.y2-this.cropH)}this.cropOffsertX=n,this.cropOffsertY=o,this.$emit("cropMoving",{moving:!0,axis:this.getCropAxis()}),this.$emit("crop-moving",{moving:!0,axis:this.getCropAxis()})})},getImgAxis(e,r,t){e=e||this.x,r=r||this.y,t=t||this.scale;let i={x1:0,x2:0,y1:0,y2:0},n=this.trueWidth*t,o=this.trueHeight*t;switch(this.rotate){case 0:i.x1=e+this.trueWidth*(1-t)/2,i.x2=i.x1+this.trueWidth*t,i.y1=r+this.trueHeight*(1-t)/2,i.y2=i.y1+this.trueHeight*t;break;case 1:case-1:case 3:case-3:i.x1=e+this.trueWidth*(1-t)/2+(n-o)/2,i.x2=i.x1+this.trueHeight*t,i.y1=r+this.trueHeight*(1-t)/2+(o-n)/2,i.y2=i.y1+this.trueWidth*t;break;default:i.x1=e+this.trueWidth*(1-t)/2,i.x2=i.x1+this.trueWidth*t,i.y1=r+this.trueHeight*(1-t)/2,i.y2=i.y1+this.trueHeight*t;break}return i},getCropAxis(){let e={x1:0,x2:0,y1:0,y2:0};return e.x1=this.cropOffsertX,e.x2=e.x1+this.cropW,e.y1=this.cropOffsertY,e.y2=e.y1+this.cropH,e},leaveCrop(e){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.$emit("cropMoving",{moving:!1,axis:this.getCropAxis()}),this.$emit("crop-moving",{moving:!1,axis:this.getCropAxis()})},getCropChecked(e){let r=document.createElement("canvas"),t=new Image,i=this.rotate,n=this.trueWidth,o=this.trueHeight,s=this.cropOffsertX,l=this.cropOffsertY;t.onload=()=>{if(this.cropW!==0){let h=r.getContext("2d"),m=1;this.high&!this.full&&(m=window.devicePixelRatio),this.enlarge!==1&!this.full&&(m=Math.abs(Number(this.enlarge)));let b=this.cropW*m,_=this.cropH*m,w=n*this.scale*m,x=o*this.scale*m,y=(this.x-s+this.trueWidth*(1-this.scale)/2)*m,g=(this.y-l+this.trueHeight*(1-this.scale)/2)*m;switch(a(b,_),h.save(),i){case 0:this.full?(a(b/this.scale,_/this.scale),h.drawImage(t,y/this.scale,g/this.scale,w/this.scale,x/this.scale)):h.drawImage(t,y,g,w,x);break;case 1:case-3:this.full?(a(b/this.scale,_/this.scale),y=y/this.scale+(w/this.scale-x/this.scale)/2,g=g/this.scale+(x/this.scale-w/this.scale)/2,h.rotate(i*90*Math.PI/180),h.drawImage(t,g,-y-x/this.scale,w/this.scale,x/this.scale)):(y=y+(w-x)/2,g=g+(x-w)/2,h.rotate(i*90*Math.PI/180),h.drawImage(t,g,-y-x,w,x));break;case 2:case-2:this.full?(a(b/this.scale,_/this.scale),h.rotate(i*90*Math.PI/180),y=y/this.scale,g=g/this.scale,h.drawImage(t,-y-w/this.scale,-g-x/this.scale,w/this.scale,x/this.scale)):(h.rotate(i*90*Math.PI/180),h.drawImage(t,-y-w,-g-x,w,x));break;case 3:case-1:this.full?(a(b/this.scale,_/this.scale),y=y/this.scale+(w/this.scale-x/this.scale)/2,g=g/this.scale+(x/this.scale-w/this.scale)/2,h.rotate(i*90*Math.PI/180),h.drawImage(t,-g-w/this.scale,y,w/this.scale,x/this.scale)):(y=y+(w-x)/2,g=g+(x-w)/2,h.rotate(i*90*Math.PI/180),h.drawImage(t,-g-w,y,w,x));break;default:this.full?(a(b/this.scale,_/this.scale),h.drawImage(t,y/this.scale,g/this.scale,w/this.scale,x/this.scale)):h.drawImage(t,y,g,w,x)}h.restore()}else{let h=n*this.scale,m=o*this.scale,b=r.getContext("2d");switch(b.save(),i){case 0:a(h,m),b.drawImage(t,0,0,h,m);break;case 1:case-3:a(m,h),b.rotate(i*90*Math.PI/180),b.drawImage(t,0,-m,h,m);break;case 2:case-2:a(h,m),b.rotate(i*90*Math.PI/180),b.drawImage(t,-h,-m,h,m);break;case 3:case-1:a(m,h),b.rotate(i*90*Math.PI/180),b.drawImage(t,-h,0,h,m);break;default:a(h,m),b.drawImage(t,0,0,h,m)}b.restore()}e(r)};var p=this.img.substr(0,4);p!=="data"&&(t.crossOrigin="Anonymous"),t.src=this.imgs;function a(h,m){r.width=Math.round(h),r.height=Math.round(m)}},getCropData(e){this.getCropChecked(r=>{e(r.toDataURL("image/"+this.outputType,this.outputSize))})},getCropBlob(e){this.getCropChecked(r=>{r.toBlob(t=>e(t),"image/"+this.outputType,this.outputSize)})},showPreview(){if(this.isCanShow)this.isCanShow=!1,setTimeout(()=>{this.isCanShow=!0},16);else return!1;let e=this.cropW,r=this.cropH,t=this.scale;var i={};i.div={width:`${e}px`,height:`${r}px`};let n=(this.x-this.cropOffsertX)/t,o=(this.y-this.cropOffsertY)/t,s=0;i.w=e,i.h=r,i.url=this.imgs,i.img={width:`${this.trueWidth}px`,height:`${this.trueHeight}px`,transform:`scale(${t})translate3d(${n}px, ${o}px, ${s}px)rotateZ(${this.rotate*90}deg)`},i.html=`
      <div class="show-preview" style="width: ${i.w}px; height: ${i.h}px,; overflow: hidden">
        <div style="width: ${e}px; height: ${r}px">
          <img src=${i.url} style="width: ${this.trueWidth}px; height: ${this.trueHeight}px; transform:
          scale(${t})translate3d(${n}px, ${o}px, ${s}px)rotateZ(${this.rotate*90}deg)">
        </div>
      </div>`,this.$emit("realTime",i),this.$emit("real-time",i)},reload(){let e=new Image;e.onload=()=>{this.w=parseFloat(window.getComputedStyle(this.$refs.cropper).width),this.h=parseFloat(window.getComputedStyle(this.$refs.cropper).height),this.trueWidth=e.width,this.trueHeight=e.height,this.original?this.scale=1:this.scale=this.checkedMode(),this.$nextTick(()=>{this.x=-(this.trueWidth-this.trueWidth*this.scale)/2+(this.w-this.trueWidth*this.scale)/2,this.y=-(this.trueHeight-this.trueHeight*this.scale)/2+(this.h-this.trueHeight*this.scale)/2,this.loading=!1,this.autoCrop&&this.goAutoCrop(),this.$emit("img-load","success"),this.$emit("imgLoad","success"),setTimeout(()=>{this.showPreview()},20)})},e.onerror=()=>{this.$emit("imgLoad","error"),this.$emit("img-load","error")},e.src=this.imgs},checkedMode(){let e=1,r=this.trueWidth,t=this.trueHeight;const i=this.mode.split(" ");switch(i[0]){case"contain":this.trueWidth>this.w&&(e=this.w/this.trueWidth),this.trueHeight*e>this.h&&(e=this.h/this.trueHeight);break;case"cover":r=this.w,e=r/this.trueWidth,t=t*e,t<this.h&&(t=this.h,e=t/this.trueHeight);break;default:try{let n=i[0];if(n.search("px")!==-1){n=n.replace("px",""),r=parseFloat(n);const o=r/this.trueWidth;let s=1,l=i[1];l.search("px")!==-1&&(l=l.replace("px",""),t=parseFloat(l),s=t/this.trueHeight),e=Math.min(o,s)}if(n.search("%")!==-1&&(n=n.replace("%",""),r=parseFloat(n)/100*this.w,e=r/this.trueWidth),i.length===2&&n==="auto"){let o=i[1];o.search("px")!==-1&&(o=o.replace("px",""),t=parseFloat(o),e=t/this.trueHeight),o.search("%")!==-1&&(o=o.replace("%",""),t=parseFloat(o)/100*this.h,e=t/this.trueHeight)}}catch{e=1}}return e},goAutoCrop(e,r){if(this.imgs===""||this.imgs===null)return;this.clearCrop(),this.cropping=!0;let t=this.w,i=this.h;if(this.centerBox){const s=Math.abs(this.rotate)%2>0;let l=(s?this.trueHeight:this.trueWidth)*this.scale,p=(s?this.trueWidth:this.trueHeight)*this.scale;t=l<t?l:t,i=p<i?p:i}var n=e||parseFloat(this.autoCropWidth),o=r||parseFloat(this.autoCropHeight);(n===0||o===0)&&(n=t*.8,o=i*.8),n=n>t?t:n,o=o>i?i:o,this.fixed&&(o=n/this.fixedNumber[0]*this.fixedNumber[1]),o>this.h&&(o=this.h,n=o/this.fixedNumber[1]*this.fixedNumber[0]),this.changeCrop(n,o)},changeCrop(e,r){if(this.centerBox){let t=this.getImgAxis();e>t.x2-t.x1&&(e=t.x2-t.x1,r=e/this.fixedNumber[0]*this.fixedNumber[1]),r>t.y2-t.y1&&(r=t.y2-t.y1,e=r/this.fixedNumber[1]*this.fixedNumber[0])}this.cropW=e,this.cropH=r,this.checkCropLimitSize(),this.$nextTick(()=>{this.cropOffsertX=(this.w-this.cropW)/2,this.cropOffsertY=(this.h-this.cropH)/2,this.centerBox&&this.moveCrop(null,!0)})},refresh(){this.img,this.imgs="",this.scale=1,this.crop=!1,this.rotate=0,this.w=0,this.h=0,this.trueWidth=0,this.trueHeight=0,this.clearCrop(),this.$nextTick(()=>{this.checkedImg()})},rotateLeft(){this.rotate=this.rotate<=-3?0:this.rotate-1},rotateRight(){this.rotate=this.rotate>=3?0:this.rotate+1},rotateClear(){this.rotate=0},checkoutImgAxis(e,r,t){e=e||this.x,r=r||this.y,t=t||this.scale;let i=!0;if(this.centerBox){let n=this.getImgAxis(e,r,t),o=this.getCropAxis();n.x1>=o.x1&&(i=!1),n.x2<=o.x2&&(i=!1),n.y1>=o.y1&&(i=!1),n.y2<=o.y2&&(i=!1)}return i}},mounted(){this.support="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll";let e=this;var r=navigator.userAgent;this.isIOS=!!r.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,i,n){for(var o=atob(this.toDataURL(i,n).split(",")[1]),s=o.length,l=new Uint8Array(s),p=0;p<s;p++)l[p]=o.charCodeAt(p);t(new Blob([l],{type:e.type||"image/png"}))}}),this.showPreview(),this.checkedImg()},destroyed(){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.cancelScale()}}),Er={key:0,class:"cropper-box"},zr=["src"],Mr={class:"cropper-view-box"},Hr=["src"],Lr={key:1};function Yr(e,r,t,i,n,o){return $(),B("div",{class:"vue-cropper",ref:"cropper",onMouseover:r[28]||(r[28]=(...s)=>e.scaleImg&&e.scaleImg(...s)),onMouseout:r[29]||(r[29]=(...s)=>e.cancelScale&&e.cancelScale(...s))},[e.imgs?($(),B("div",Er,[J(M("div",{class:"cropper-box-canvas",style:ue({width:e.trueWidth+"px",height:e.trueHeight+"px",transform:"scale("+e.scale+","+e.scale+") translate3d("+e.x/e.scale+"px,"+e.y/e.scale+"px,0)rotateZ("+e.rotate*90+"deg)"})},[M("img",{src:e.imgs,alt:"cropper-img",ref:"cropperImg"},null,8,zr)],4),[[ve,!e.loading]])])):Se("",!0),M("div",{class:Bt(["cropper-drag-box",{"cropper-move":e.move&&!e.crop,"cropper-crop":e.crop,"cropper-modal":e.cropping}]),onMousedown:r[0]||(r[0]=(...s)=>e.startMove&&e.startMove(...s)),onTouchstart:r[1]||(r[1]=(...s)=>e.startMove&&e.startMove(...s))},null,34),J(M("div",{class:"cropper-crop-box",style:ue({width:e.cropW+"px",height:e.cropH+"px",transform:"translate3d("+e.cropOffsertX+"px,"+e.cropOffsertY+"px,0)"})},[M("span",Mr,[M("img",{style:ue({width:e.trueWidth+"px",height:e.trueHeight+"px",transform:"scale("+e.scale+","+e.scale+") translate3d("+(e.x-e.cropOffsertX)/e.scale+"px,"+(e.y-e.cropOffsertY)/e.scale+"px,0)rotateZ("+e.rotate*90+"deg)"}),src:e.imgs,alt:"cropper-img"},null,12,Hr)]),M("span",{class:"cropper-face cropper-move",onMousedown:r[2]||(r[2]=(...s)=>e.cropMove&&e.cropMove(...s)),onTouchstart:r[3]||(r[3]=(...s)=>e.cropMove&&e.cropMove(...s))},null,32),e.info?($(),B("span",{key:0,class:"crop-info",style:ue({top:e.cropInfo.top})},te(e.cropInfo.width)+" \xD7 "+te(e.cropInfo.height),5)):Se("",!0),e.fixedBox?Se("",!0):($(),B("span",Lr,[M("span",{class:"crop-line line-w",onMousedown:r[4]||(r[4]=s=>e.changeCropSize(s,!1,!0,0,1)),onTouchstart:r[5]||(r[5]=s=>e.changeCropSize(s,!1,!0,0,1))},null,32),M("span",{class:"crop-line line-a",onMousedown:r[6]||(r[6]=s=>e.changeCropSize(s,!0,!1,1,0)),onTouchstart:r[7]||(r[7]=s=>e.changeCropSize(s,!0,!1,1,0))},null,32),M("span",{class:"crop-line line-s",onMousedown:r[8]||(r[8]=s=>e.changeCropSize(s,!1,!0,0,2)),onTouchstart:r[9]||(r[9]=s=>e.changeCropSize(s,!1,!0,0,2))},null,32),M("span",{class:"crop-line line-d",onMousedown:r[10]||(r[10]=s=>e.changeCropSize(s,!0,!1,2,0)),onTouchstart:r[11]||(r[11]=s=>e.changeCropSize(s,!0,!1,2,0))},null,32),M("span",{class:"crop-point point1",onMousedown:r[12]||(r[12]=s=>e.changeCropSize(s,!0,!0,1,1)),onTouchstart:r[13]||(r[13]=s=>e.changeCropSize(s,!0,!0,1,1))},null,32),M("span",{class:"crop-point point2",onMousedown:r[14]||(r[14]=s=>e.changeCropSize(s,!1,!0,0,1)),onTouchstart:r[15]||(r[15]=s=>e.changeCropSize(s,!1,!0,0,1))},null,32),M("span",{class:"crop-point point3",onMousedown:r[16]||(r[16]=s=>e.changeCropSize(s,!0,!0,2,1)),onTouchstart:r[17]||(r[17]=s=>e.changeCropSize(s,!0,!0,2,1))},null,32),M("span",{class:"crop-point point4",onMousedown:r[18]||(r[18]=s=>e.changeCropSize(s,!0,!1,1,0)),onTouchstart:r[19]||(r[19]=s=>e.changeCropSize(s,!0,!1,1,0))},null,32),M("span",{class:"crop-point point5",onMousedown:r[20]||(r[20]=s=>e.changeCropSize(s,!0,!1,2,0)),onTouchstart:r[21]||(r[21]=s=>e.changeCropSize(s,!0,!1,2,0))},null,32),M("span",{class:"crop-point point6",onMousedown:r[22]||(r[22]=s=>e.changeCropSize(s,!0,!0,1,2)),onTouchstart:r[23]||(r[23]=s=>e.changeCropSize(s,!0,!0,1,2))},null,32),M("span",{class:"crop-point point7",onMousedown:r[24]||(r[24]=s=>e.changeCropSize(s,!1,!0,0,2)),onTouchstart:r[25]||(r[25]=s=>e.changeCropSize(s,!1,!0,0,2))},null,32),M("span",{class:"crop-point point8",onMousedown:r[26]||(r[26]=s=>e.changeCropSize(s,!0,!0,2,2)),onTouchstart:r[27]||(r[27]=s=>e.changeCropSize(s,!0,!0,2,2))},null,32)]))],4),[[ve,e.cropping]])],544)}var Ye=Tr(Ir,[["render",Yr],["__scopeId","data-v-be5e5ddc"]]);typeof window!="undefined"&&window.Vue&&window.Vue.createApp({}).component("VueCropper",Ye);var mt=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},e(r,t)};return function(r,t){e(r,t);function i(){this.constructor=r}r.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),L;(function(e){e.InvalidFile="InvalidFile",e.InvalidToken="InvalidToken",e.InvalidMetadata="InvalidMetadata",e.InvalidChunkSize="InvalidChunkSize",e.InvalidCustomVars="InvalidCustomVars",e.NotAvailableUploadHost="NotAvailableUploadHost",e.ReadCacheFailed="ReadCacheFailed",e.InvalidCacheData="InvalidCacheData",e.WriteCacheFailed="WriteCacheFailed",e.RemoveCacheFailed="RemoveCacheFailed",e.GetCanvasContextFailed="GetCanvasContextFailed",e.UnsupportedFileType="UnsupportedFileType",e.FileReaderReadFailed="FileReaderReadFailed",e.NotAvailableXMLHttpRequest="NotAvailableXMLHttpRequest",e.InvalidProgressEventTarget="InvalidProgressEventTarget",e.RequestError="RequestError"})(L||(L={}));var Y=function(){function e(r,t){this.name=r,this.message=t,this.stack=new Error().stack}return e}(),ne=function(e){mt(r,e);function r(t,i,n,o){var s=e.call(this,L.RequestError,n)||this;return s.code=t,s.reqId=i,s.isRequestError=!0,s.data=o,s}return r}(Y),Pr=function(e){mt(r,e);function r(t,i){return i===void 0&&(i=""),e.call(this,0,i,t)||this}return r}(ne),Fr=function(){function e(r,t){this.runTask=r,this.limit=t,this.queue=[],this.processing=[]}return e.prototype.enqueue=function(r){var t=this;return new Promise(function(i,n){t.queue.push({task:r,resolve:i,reject:n}),t.check()})},e.prototype.run=function(r){var t=this;this.queue=this.queue.filter(function(i){return i!==r}),this.processing.push(r),this.runTask(r.task).then(function(){t.processing=t.processing.filter(function(i){return i!==r}),r.resolve(),t.check()},function(i){return r.reject(i)})},e.prototype.check=function(){var r=this,t=this.processing.length,i=this.limit-t;this.queue.slice(0,i).forEach(function(n){r.run(n)})},e}(),Xr=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},e(r,t)};return function(r,t){e(r,t);function i(){this.constructor=r}r.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),re=globalThis&&globalThis.__assign||function(){return re=Object.assign||function(e){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},re.apply(this,arguments)},Ur=function(){function e(){this.closed=!1}return e.prototype.unsubscribe=function(){this.closed||(this.closed=!0,this._unsubscribe&&this._unsubscribe())},e.prototype.add=function(r){this._unsubscribe=r},e}(),$r=function(e){Xr(r,e);function r(t,i,n){var o=e.call(this)||this;return o.isStopped=!1,t&&typeof t=="object"?o.destination=t:o.destination=re(re(re({},t&&{next:t}),i&&{error:i}),n&&{complete:n}),o}return r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},r.prototype.next=function(t){!this.isStopped&&this.destination.next&&this.destination.next(t)},r.prototype.error=function(t){!this.isStopped&&this.destination.error&&(this.isStopped=!0,this.destination.error(t))},r.prototype.complete=function(t){!this.isStopped&&this.destination.complete&&(this.isStopped=!0,this.destination.complete(t))},r}(Ur),jr=function(){function e(r){this._subscribe=r}return e.prototype.subscribe=function(r,t,i){var n=new $r(r,t,i);return n.add(this._subscribe(n)),n},e}();function Br(e){if(e===null||typeof e=="undefined")return"";var r=e+"",t="",i,n,o=0;i=n=0,o=r.length;for(var s=0;s<o;s++){var l=r.charCodeAt(s),p=null;if(l<128)n++;else if(l>127&&l<2048)p=String.fromCharCode(l>>6|192,l&63|128);else if((l&63488^55296)>0)p=String.fromCharCode(l>>12|224,l>>6&63|128,l&63|128);else{if((l&64512^55296)>0)throw new RangeError("Unmatched trail surrogate at "+s);var a=r.charCodeAt(++s);if((a&64512^56320)>0)throw new RangeError("Unmatched lead surrogate at "+(s-1));l=((l&1023)<<10)+(a&1023)+65536,p=String.fromCharCode(l>>18|240,l>>12&63|128,l>>6&63|128,l&63|128)}p!==null&&(n>i&&(t+=r.slice(i,n)),t+=p,i=n=s+1)}return n>i&&(t+=r.slice(i,o)),t}function Rr(e){var r=[],t=0,i=0,n=0;for(e+="";t<e.length;){i=e.charCodeAt(t)&255,n=0,i<=191?(i=i&127,n=1):i<=223?(i=i&31,n=2):i<=239?(i=i&15,n=3):(i=i&7,n=4);for(var o=1;o<n;++o)i=i<<6|e.charCodeAt(o+t)&63;n===4?(i-=65536,r.push(String.fromCharCode(55296|i>>10&1023)),r.push(String.fromCharCode(56320|i&1023))):r.push(String.fromCharCode(i)),t+=n}return r.join("")}function Wr(e){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t,i,n,o,s,l,p,a,h=0,m=0,b="",_=[];if(!e)return e;e=Br(e+"");do t=e.charCodeAt(h++),i=e.charCodeAt(h++),n=e.charCodeAt(h++),a=t<<16|i<<8|n,o=a>>18&63,s=a>>12&63,l=a>>6&63,p=a&63,_[m++]=r.charAt(o)+r.charAt(s)+r.charAt(l)+r.charAt(p);while(h<e.length);switch(b=_.join(""),e.length%3){case 1:b=b.slice(0,-2)+"==";break;case 2:b=b.slice(0,-1)+"=";break}return b}function Dr(e){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t,i,n,o,s,l,p,a,h=0,m=0,b="",_=[];if(!e)return e;e+="";do o=r.indexOf(e.charAt(h++)),s=r.indexOf(e.charAt(h++)),l=r.indexOf(e.charAt(h++)),p=r.indexOf(e.charAt(h++)),a=o<<18|s<<12|l<<6|p,t=a>>16&255,i=a>>8&255,n=a&255,l===64?_[m++]=String.fromCharCode(t):p===64?_[m++]=String.fromCharCode(t,i):_[m++]=String.fromCharCode(t,i,n);while(h<e.length);return b=_.join(""),Rr(b)}function bt(e){return e=Wr(e),e.replace(/\//g,"_").replace(/\+/g,"-")}function Nr(e){return e=e.replace(/_/g,"/").replace(/-/g,"+"),Dr(e)}var yt={exports:{}};(function(e,r){(function(t){e.exports=t()})(function(t){var i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(g,v){var c=g[0],u=g[1],d=g[2],f=g[3];c+=(u&d|~u&f)+v[0]-680876936|0,c=(c<<7|c>>>25)+u|0,f+=(c&u|~c&d)+v[1]-389564586|0,f=(f<<12|f>>>20)+c|0,d+=(f&c|~f&u)+v[2]+606105819|0,d=(d<<17|d>>>15)+f|0,u+=(d&f|~d&c)+v[3]-1044525330|0,u=(u<<22|u>>>10)+d|0,c+=(u&d|~u&f)+v[4]-176418897|0,c=(c<<7|c>>>25)+u|0,f+=(c&u|~c&d)+v[5]+1200080426|0,f=(f<<12|f>>>20)+c|0,d+=(f&c|~f&u)+v[6]-1473231341|0,d=(d<<17|d>>>15)+f|0,u+=(d&f|~d&c)+v[7]-45705983|0,u=(u<<22|u>>>10)+d|0,c+=(u&d|~u&f)+v[8]+1770035416|0,c=(c<<7|c>>>25)+u|0,f+=(c&u|~c&d)+v[9]-1958414417|0,f=(f<<12|f>>>20)+c|0,d+=(f&c|~f&u)+v[10]-42063|0,d=(d<<17|d>>>15)+f|0,u+=(d&f|~d&c)+v[11]-1990404162|0,u=(u<<22|u>>>10)+d|0,c+=(u&d|~u&f)+v[12]+1804603682|0,c=(c<<7|c>>>25)+u|0,f+=(c&u|~c&d)+v[13]-40341101|0,f=(f<<12|f>>>20)+c|0,d+=(f&c|~f&u)+v[14]-1502002290|0,d=(d<<17|d>>>15)+f|0,u+=(d&f|~d&c)+v[15]+1236535329|0,u=(u<<22|u>>>10)+d|0,c+=(u&f|d&~f)+v[1]-165796510|0,c=(c<<5|c>>>27)+u|0,f+=(c&d|u&~d)+v[6]-1069501632|0,f=(f<<9|f>>>23)+c|0,d+=(f&u|c&~u)+v[11]+643717713|0,d=(d<<14|d>>>18)+f|0,u+=(d&c|f&~c)+v[0]-373897302|0,u=(u<<20|u>>>12)+d|0,c+=(u&f|d&~f)+v[5]-701558691|0,c=(c<<5|c>>>27)+u|0,f+=(c&d|u&~d)+v[10]+38016083|0,f=(f<<9|f>>>23)+c|0,d+=(f&u|c&~u)+v[15]-660478335|0,d=(d<<14|d>>>18)+f|0,u+=(d&c|f&~c)+v[4]-405537848|0,u=(u<<20|u>>>12)+d|0,c+=(u&f|d&~f)+v[9]+568446438|0,c=(c<<5|c>>>27)+u|0,f+=(c&d|u&~d)+v[14]-1019803690|0,f=(f<<9|f>>>23)+c|0,d+=(f&u|c&~u)+v[3]-187363961|0,d=(d<<14|d>>>18)+f|0,u+=(d&c|f&~c)+v[8]+1163531501|0,u=(u<<20|u>>>12)+d|0,c+=(u&f|d&~f)+v[13]-1444681467|0,c=(c<<5|c>>>27)+u|0,f+=(c&d|u&~d)+v[2]-51403784|0,f=(f<<9|f>>>23)+c|0,d+=(f&u|c&~u)+v[7]+1735328473|0,d=(d<<14|d>>>18)+f|0,u+=(d&c|f&~c)+v[12]-1926607734|0,u=(u<<20|u>>>12)+d|0,c+=(u^d^f)+v[5]-378558|0,c=(c<<4|c>>>28)+u|0,f+=(c^u^d)+v[8]-2022574463|0,f=(f<<11|f>>>21)+c|0,d+=(f^c^u)+v[11]+1839030562|0,d=(d<<16|d>>>16)+f|0,u+=(d^f^c)+v[14]-35309556|0,u=(u<<23|u>>>9)+d|0,c+=(u^d^f)+v[1]-1530992060|0,c=(c<<4|c>>>28)+u|0,f+=(c^u^d)+v[4]+1272893353|0,f=(f<<11|f>>>21)+c|0,d+=(f^c^u)+v[7]-155497632|0,d=(d<<16|d>>>16)+f|0,u+=(d^f^c)+v[10]-1094730640|0,u=(u<<23|u>>>9)+d|0,c+=(u^d^f)+v[13]+681279174|0,c=(c<<4|c>>>28)+u|0,f+=(c^u^d)+v[0]-358537222|0,f=(f<<11|f>>>21)+c|0,d+=(f^c^u)+v[3]-722521979|0,d=(d<<16|d>>>16)+f|0,u+=(d^f^c)+v[6]+76029189|0,u=(u<<23|u>>>9)+d|0,c+=(u^d^f)+v[9]-640364487|0,c=(c<<4|c>>>28)+u|0,f+=(c^u^d)+v[12]-421815835|0,f=(f<<11|f>>>21)+c|0,d+=(f^c^u)+v[15]+530742520|0,d=(d<<16|d>>>16)+f|0,u+=(d^f^c)+v[2]-995338651|0,u=(u<<23|u>>>9)+d|0,c+=(d^(u|~f))+v[0]-198630844|0,c=(c<<6|c>>>26)+u|0,f+=(u^(c|~d))+v[7]+1126891415|0,f=(f<<10|f>>>22)+c|0,d+=(c^(f|~u))+v[14]-1416354905|0,d=(d<<15|d>>>17)+f|0,u+=(f^(d|~c))+v[5]-57434055|0,u=(u<<21|u>>>11)+d|0,c+=(d^(u|~f))+v[12]+1700485571|0,c=(c<<6|c>>>26)+u|0,f+=(u^(c|~d))+v[3]-1894986606|0,f=(f<<10|f>>>22)+c|0,d+=(c^(f|~u))+v[10]-1051523|0,d=(d<<15|d>>>17)+f|0,u+=(f^(d|~c))+v[1]-2054922799|0,u=(u<<21|u>>>11)+d|0,c+=(d^(u|~f))+v[8]+1873313359|0,c=(c<<6|c>>>26)+u|0,f+=(u^(c|~d))+v[15]-30611744|0,f=(f<<10|f>>>22)+c|0,d+=(c^(f|~u))+v[6]-1560198380|0,d=(d<<15|d>>>17)+f|0,u+=(f^(d|~c))+v[13]+1309151649|0,u=(u<<21|u>>>11)+d|0,c+=(d^(u|~f))+v[4]-145523070|0,c=(c<<6|c>>>26)+u|0,f+=(u^(c|~d))+v[11]-1120210379|0,f=(f<<10|f>>>22)+c|0,d+=(c^(f|~u))+v[2]+718787259|0,d=(d<<15|d>>>17)+f|0,u+=(f^(d|~c))+v[9]-343485551|0,u=(u<<21|u>>>11)+d|0,g[0]=c+g[0]|0,g[1]=u+g[1]|0,g[2]=d+g[2]|0,g[3]=f+g[3]|0}function o(g){var v=[],c;for(c=0;c<64;c+=4)v[c>>2]=g.charCodeAt(c)+(g.charCodeAt(c+1)<<8)+(g.charCodeAt(c+2)<<16)+(g.charCodeAt(c+3)<<24);return v}function s(g){var v=[],c;for(c=0;c<64;c+=4)v[c>>2]=g[c]+(g[c+1]<<8)+(g[c+2]<<16)+(g[c+3]<<24);return v}function l(g){var v=g.length,c=[1732584193,-271733879,-1732584194,271733878],u,d,f,z,P,X;for(u=64;u<=v;u+=64)n(c,o(g.substring(u-64,u)));for(g=g.substring(u-64),d=g.length,f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u=0;u<d;u+=1)f[u>>2]|=g.charCodeAt(u)<<(u%4<<3);if(f[u>>2]|=128<<(u%4<<3),u>55)for(n(c,f),u=0;u<16;u+=1)f[u]=0;return z=v*8,z=z.toString(16).match(/(.*?)(.{0,8})$/),P=parseInt(z[2],16),X=parseInt(z[1],16)||0,f[14]=P,f[15]=X,n(c,f),c}function p(g){var v=g.length,c=[1732584193,-271733879,-1732584194,271733878],u,d,f,z,P,X;for(u=64;u<=v;u+=64)n(c,s(g.subarray(u-64,u)));for(g=u-64<v?g.subarray(u-64):new Uint8Array(0),d=g.length,f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u=0;u<d;u+=1)f[u>>2]|=g[u]<<(u%4<<3);if(f[u>>2]|=128<<(u%4<<3),u>55)for(n(c,f),u=0;u<16;u+=1)f[u]=0;return z=v*8,z=z.toString(16).match(/(.*?)(.{0,8})$/),P=parseInt(z[2],16),X=parseInt(z[1],16)||0,f[14]=P,f[15]=X,n(c,f),c}function a(g){var v="",c;for(c=0;c<4;c+=1)v+=i[g>>c*8+4&15]+i[g>>c*8&15];return v}function h(g){var v;for(v=0;v<g.length;v+=1)g[v]=a(g[v]);return g.join("")}h(l("hello")),typeof ArrayBuffer!="undefined"&&!ArrayBuffer.prototype.slice&&function(){function g(v,c){return v=v|0||0,v<0?Math.max(v+c,0):Math.min(v,c)}ArrayBuffer.prototype.slice=function(v,c){var u=this.byteLength,d=g(v,u),f=u,z,P,X,H;return c!==t&&(f=g(c,u)),d>f?new ArrayBuffer(0):(z=f-d,P=new ArrayBuffer(z),X=new Uint8Array(P),H=new Uint8Array(this,d,z),X.set(H),P)}}();function m(g){return/[\u0080-\uFFFF]/.test(g)&&(g=unescape(encodeURIComponent(g))),g}function b(g,v){var c=g.length,u=new ArrayBuffer(c),d=new Uint8Array(u),f;for(f=0;f<c;f+=1)d[f]=g.charCodeAt(f);return v?d:u}function _(g){return String.fromCharCode.apply(null,new Uint8Array(g))}function w(g,v,c){var u=new Uint8Array(g.byteLength+v.byteLength);return u.set(new Uint8Array(g)),u.set(new Uint8Array(v),g.byteLength),c?u:u.buffer}function x(g){var v=[],c=g.length,u;for(u=0;u<c-1;u+=2)v.push(parseInt(g.substr(u,2),16));return String.fromCharCode.apply(String,v)}function y(){this.reset()}return y.prototype.append=function(g){return this.appendBinary(m(g)),this},y.prototype.appendBinary=function(g){this._buff+=g,this._length+=g.length;var v=this._buff.length,c;for(c=64;c<=v;c+=64)n(this._hash,o(this._buff.substring(c-64,c)));return this._buff=this._buff.substring(c-64),this},y.prototype.end=function(g){var v=this._buff,c=v.length,u,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],f;for(u=0;u<c;u+=1)d[u>>2]|=v.charCodeAt(u)<<(u%4<<3);return this._finish(d,c),f=h(this._hash),g&&(f=x(f)),this.reset(),f},y.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},y.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},y.prototype.setState=function(g){return this._buff=g.buff,this._length=g.length,this._hash=g.hash,this},y.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},y.prototype._finish=function(g,v){var c=v,u,d,f;if(g[c>>2]|=128<<(c%4<<3),c>55)for(n(this._hash,g),c=0;c<16;c+=1)g[c]=0;u=this._length*8,u=u.toString(16).match(/(.*?)(.{0,8})$/),d=parseInt(u[2],16),f=parseInt(u[1],16)||0,g[14]=d,g[15]=f,n(this._hash,g)},y.hash=function(g,v){return y.hashBinary(m(g),v)},y.hashBinary=function(g,v){var c=l(g),u=h(c);return v?x(u):u},y.ArrayBuffer=function(){this.reset()},y.ArrayBuffer.prototype.append=function(g){var v=w(this._buff.buffer,g,!0),c=v.length,u;for(this._length+=g.byteLength,u=64;u<=c;u+=64)n(this._hash,s(v.subarray(u-64,u)));return this._buff=u-64<c?new Uint8Array(v.buffer.slice(u-64)):new Uint8Array(0),this},y.ArrayBuffer.prototype.end=function(g){var v=this._buff,c=v.length,u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d,f;for(d=0;d<c;d+=1)u[d>>2]|=v[d]<<(d%4<<3);return this._finish(u,c),f=h(this._hash),g&&(f=x(f)),this.reset(),f},y.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},y.ArrayBuffer.prototype.getState=function(){var g=y.prototype.getState.call(this);return g.buff=_(g.buff),g},y.ArrayBuffer.prototype.setState=function(g){return g.buff=b(g.buff,!0),y.prototype.setState.call(this,g)},y.ArrayBuffer.prototype.destroy=y.prototype.destroy,y.ArrayBuffer.prototype._finish=y.prototype._finish,y.ArrayBuffer.hash=function(g,v){var c=p(new Uint8Array(g)),u=h(c);return v?x(u):u},y})})(yt);var qr=yt.exports,be=globalThis&&globalThis.__assign||function(){return be=Object.assign||function(e){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},be.apply(this,arguments)},Vr=globalThis&&globalThis.__awaiter||function(e,r,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function l(h){try{a(i.next(h))}catch(m){s(m)}}function p(h){try{a(i.throw(h))}catch(m){s(m)}}function a(h){h.done?o(h.value):n(h.value).then(l,p)}a((i=i.apply(e,r||[])).next())})},Gr=globalThis&&globalThis.__generator||function(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,n,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(a){return function(h){return p([a,h])}}function p(a){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,n&&(o=a[0]&2?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return t.label++,{value:a[1],done:!1};case 5:t.label++,n=a[1],a=[0];continue;case 7:a=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){t=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){t.label=a[1];break}if(a[0]===6&&t.label<o[1]){t.label=o[1],o=a;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(a);break}o[2]&&t.ops.pop(),t.trys.pop();continue}a=r.call(e,t)}catch(h){a=[6,h],n=0}finally{i=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},V=Math.pow(1024,2);function Jr(e,r){var t=r*V;if(t>e.size)t=e.size;else for(;e.size>t*1e4;)t*=2;for(var i=[],n=Math.ceil(e.size/t),o=0;o<n;o++){var s=e.slice(t*o,o===n-1?e.size:t*(o+1));i.push(s)}return i}function Zr(e){return Object.keys(e).every(function(r){return r.indexOf("x-qn-meta-")===0})}function Kr(e){return Object.keys(e).every(function(r){return r.indexOf("x:")===0})}function Qr(e){return e.reduce(function(r,t){return r+t},0)}function ei(e,r,t){try{localStorage.setItem(e,JSON.stringify(r))}catch{t.warn(new Y(L.WriteCacheFailed,"setLocalFileInfo failed: "+e))}}function ti(e,r,t){var i=r==null?"_":"_key_"+r+"_";return"qiniu_js_sdk_upload_file_name_"+e+i+"size_"+t}function Ie(e,r){try{localStorage.removeItem(e)}catch{r.warn(new Y(L.RemoveCacheFailed,"removeLocalFileInfo failed. key: "+e))}}function ri(e,r){var t=null;try{t=localStorage.getItem(e)}catch{r.warn(new Y(L.ReadCacheFailed,"getLocalFileInfo failed. key: "+e))}if(t==null)return null;var i=null;try{i=JSON.parse(t)}catch{Ie(e,r),r.warn(new Y(L.InvalidCacheData,"getLocalFileInfo failed to parse. key: "+e))}return i}function xe(e){var r="UpToken "+e;return{Authorization:r}}function ii(e){var r=xe(e);return be({"content-type":"application/octet-stream"},r)}function oi(e){var r=xe(e);return be({"content-type":"application/json"},r)}function wt(){if(window.XMLHttpRequest)return new XMLHttpRequest;if(window.ActiveXObject)return new window.ActiveXObject("Microsoft.XMLHTTP");throw new Y(L.NotAvailableXMLHttpRequest,"the current environment does not support.")}function ni(e){return Vr(this,void 0,void 0,function(){var r,t;return Gr(this,function(i){switch(i.label){case 0:return[4,ai(e)];case 1:return r=i.sent(),t=new qr.ArrayBuffer,t.append(r),[2,t.end()]}})})}function ai(e){return new Promise(function(r,t){var i=new FileReader;i.onload=function(n){if(n.target){var o=n.target.result;r(o)}else t(new Y(L.InvalidProgressEventTarget,"progress event target is undefined"))},i.onerror=function(){t(new Y(L.FileReaderReadFailed,"fileReader read failed"))},i.readAsArrayBuffer(e)})}function ae(e,r){return new Promise(function(t,i){var n=wt();if(n.open(r.method,e),r.onCreate&&r.onCreate(n),r.headers){var o=r.headers;Object.keys(o).forEach(function(s){n.setRequestHeader(s,o[s])})}n.upload.addEventListener("progress",function(s){s.lengthComputable&&r.onProgress&&r.onProgress({loaded:s.loaded,total:s.total})}),n.onreadystatechange=function(){var s=n.responseText;if(n.readyState===4){var l=n.getResponseHeader("x-reqId")||"";if(n.status===0){i(new Pr("network error.",l));return}if(n.status!==200){var p="xhr request failed, code: "+n.status;s&&(p+=" response: "+s);var a=void 0;try{a=JSON.parse(s)}catch{}i(new ne(n.status,l,p,a));return}try{t({data:JSON.parse(s),reqId:l})}catch(h){i(h)}}},n.send(r.body)})}function si(e){if(e&&e.match){var r=e.match(/(^https?)/);if(!r)return"";var t=r[1];return r=e.match(/^https?:\/\/([^:^/]*):(\d*)/),r?r[2]:t==="http"?"80":"443"}return""}function li(e){if(e&&e.match){var r=e.match(/^https?:\/\/([^:^/]*)/);return r?r[1]:""}return""}function Pe(e){if(!e)throw new Y(L.InvalidToken,"invalid token.");var r=e.split(":");if(r.length===1)throw new Y(L.InvalidToken,"invalid token segments.");var t=r.length>3?r[1]:r[0];if(!t)throw new Y(L.InvalidToken,"missing assess key field.");var i=null;try{i=JSON.parse(Nr(r[r.length-1]))}catch{throw new Y(L.InvalidToken,"token parse failed.")}if(i==null)throw new Y(L.InvalidToken,"putPolicy is null.");if(i.scope==null)throw new Y(L.InvalidToken,"scope field is null.");var n=i.scope.split(":")[0];if(!n)throw new Y(L.InvalidToken,"resolve bucketName failed.");return{assessKey:t,bucketName:n,scope:i.scope}}var R,D={z0:"z0",z1:"z1",z2:"z2",na0:"na0",as0:"as0",cnEast2:"cn-east-2"},ui=(R={},R[D.z0]={srcUphost:["up.qiniup.com"],cdnUphost:["upload.qiniup.com"]},R[D.z1]={srcUphost:["up-z1.qiniup.com"],cdnUphost:["upload-z1.qiniup.com"]},R[D.z2]={srcUphost:["up-z2.qiniup.com"],cdnUphost:["upload-z2.qiniup.com"]},R[D.na0]={srcUphost:["up-na0.qiniup.com"],cdnUphost:["upload-na0.qiniup.com"]},R[D.as0]={srcUphost:["up-as0.qiniup.com"],cdnUphost:["upload-as0.qiniup.com"]},R[D.cnEast2]={srcUphost:["up-cn-east-2.qiniup.com"],cdnUphost:["upload-cn-east-2.qiniup.com"]},R),ee=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},ci=function(e,r,t,i){return r=r||"&",t=t||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(n){var o=encodeURIComponent(ee(n))+t;return Array.isArray(e[n])?e[n].map(function(s){return o+encodeURIComponent(ee(s))}).join(r):o+encodeURIComponent(ee(e[n]))}).filter(Boolean).join(r):i?encodeURIComponent(ee(i))+t+encodeURIComponent(ee(e)):""},xt;xt=ci;var N=globalThis&&globalThis.__assign||function(){return N=Object.assign||function(e){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N.apply(this,arguments)},hi=globalThis&&globalThis.__awaiter||function(e,r,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function l(h){try{a(i.next(h))}catch(m){s(m)}}function p(h){try{a(i.throw(h))}catch(m){s(m)}}function a(h){h.done?o(h.value):n(h.value).then(l,p)}a((i=i.apply(e,r||[])).next())})},pi=globalThis&&globalThis.__generator||function(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,n,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(a){return function(h){return p([a,h])}}function p(a){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,n&&(o=a[0]&2?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return t.label++,{value:a[1],done:!1};case 5:t.label++,n=a[1],a=[0];continue;case 7:a=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){t=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){t.label=a[1];break}if(a[0]===6&&t.label<o[1]){t.label=o[1],o=a;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(a);break}o[2]&&t.ops.pop(),t.trys.pop();continue}a=r.call(e,t)}catch(h){a=[6,h],n=0}finally{i=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};function di(e,r,t){return hi(this,void 0,void 0,function(){var i,n;return pi(this,function(o){return i=xt({ak:e,bucket:r}),n=t+"://api.qiniu.com/v2/query?"+i,[2,ae(n,{method:"GET"})]})})}function _t(e,r,t){var i=t.url,n=t.id;return i+"/buckets/"+e+"/objects/"+(r!=null?bt(r):"~")+"/uploads/"+n}function fi(e,r,t,i){var n=i+"/buckets/"+r+"/objects/"+(t!=null?bt(t):"~")+"/uploads";return ae(n,{method:"POST",headers:xe(e)})}function gi(e,r,t,i,n){var o=Pe(e).bucketName,s=_t(o,r,i)+("/"+t),l=ii(e);return n.md5&&(l["Content-MD5"]=n.md5),ae(s,N(N({},n),{method:"PUT",headers:l}))}function vi(e,r,t,i){var n=Pe(e).bucketName,o=_t(n,r,t);return ae(o,N(N({},i),{method:"POST",headers:oi(e)}))}function mi(e,r,t){return ae(e,N({method:"POST",body:r},t))}var ye=globalThis&&globalThis.__assign||function(){return ye=Object.assign||function(e){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ye.apply(this,arguments)},qe=globalThis&&globalThis.__awaiter||function(e,r,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function l(h){try{a(i.next(h))}catch(m){s(m)}}function p(h){try{a(i.throw(h))}catch(m){s(m)}}function a(h){h.done?o(h.value):n(h.value).then(l,p)}a((i=i.apply(e,r||[])).next())})},Ve=globalThis&&globalThis.__generator||function(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,n,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(a){return function(h){return p([a,h])}}function p(a){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,n&&(o=a[0]&2?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return t.label++,{value:a[1],done:!1};case 5:t.label++,n=a[1],a=[0];continue;case 7:a=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){t=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){t.label=a[1];break}if(a[0]===6&&t.label<o[1]){t.label=o[1],o=a;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(a);break}o[2]&&t.ops.pop(),t.trys.pop();continue}a=r.call(e,t)}catch(h){a=[6,h],n=0}finally{i=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},bi=globalThis&&globalThis.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),n,o=[],s;try{for(;(r===void 0||r-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){s={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},yi=globalThis&&globalThis.__spread||function(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(bi(arguments[r]));return e},wi=4,Ct=[0,502,503,504,599],xi=yi(Ct,[612]),_i=Math.pow(1024,3),St=function(){function e(r,t,i,n){this.hostPool=i,this.logger=n,this.aborted=!1,this.retryCount=0,this.xhrList=[],this.config=r.config,n.info("config inited.",this.config),this.putExtra=ye({fname:""},r.putExtra),n.info("putExtra inited.",this.putExtra),this.key=r.key,this.file=r.file,this.token=r.token,this.onData=t.onData,this.onError=t.onError,this.onComplete=t.onComplete;try{var o=Pe(this.token);this.bucketName=o.bucketName,this.assessKey=o.assessKey}catch(s){n.error("get putPolicy from token failed.",s),this.onError(s)}}return e.prototype.checkAndUpdateUploadHost=function(){return qe(this,void 0,void 0,function(){var r;return Ve(this,function(t){switch(t.label){case 0:return this.logger.info("get available upload host."),[4,this.hostPool.getUp(this.assessKey,this.bucketName,this.config.upprotocol)];case 1:if(r=t.sent(),r==null)throw new Y(L.NotAvailableUploadHost,"no available upload host.");return this.uploadHost!=null&&this.uploadHost.host!==r.host?this.logger.warn("host switches from "+this.uploadHost.host+" to "+r.host+"."):this.logger.info("use host "+r.host+"."),this.uploadHost=r,[2]}})})},e.prototype.checkAndUnfreezeHost=function(){this.logger.info("check unfreeze host."),this.uploadHost!=null&&this.uploadHost.isFrozen()&&(this.logger.warn(this.uploadHost.host+" will be unfrozen."),this.uploadHost.unfreeze())},e.prototype.checkAndFreezeHost=function(r){this.logger.info("check freeze host."),r instanceof ne&&this.uploadHost!=null&&Ct.includes(r.code)&&(this.logger.warn(this.uploadHost.host+" will be temporarily frozen."),this.uploadHost.freeze())},e.prototype.handleError=function(r){this.logger.error(r.message),this.onError(r)},e.prototype.putFile=function(){return qe(this,void 0,void 0,function(){var r,t,i,n,o,s;return Ve(this,function(l){switch(l.label){case 0:if(this.aborted=!1,this.putExtra.fname||(this.logger.info("use file.name as fname."),this.putExtra.fname=this.file.name),this.file.size>1e4*_i)return this.handleError(new Y(L.InvalidFile,"file size exceed maximum value 10000G")),[2];if(this.putExtra.customVars&&!Kr(this.putExtra.customVars))return this.handleError(new Y(L.InvalidCustomVars,"customVars key should start width x:")),[2];if(this.putExtra.metadata&&!Zr(this.putExtra.metadata))return this.handleError(new Y(L.InvalidMetadata,"metadata key should start with x-qn-meta-")),[2];l.label=1;case 1:return l.trys.push([1,4,,5]),this.uploadAt=new Date().getTime(),[4,this.checkAndUpdateUploadHost()];case 2:return l.sent(),[4,this.run()];case 3:return r=l.sent(),this.onComplete(r.data),this.checkAndUnfreezeHost(),this.sendLog(r.reqId,200),[2];case 4:return t=l.sent(),this.logger.error(t),this.clear(),t instanceof ne&&(i=this.aborted?"":t.reqId,n=this.aborted?-2:t.code,this.sendLog(i,n),this.checkAndFreezeHost(t),o=++this.retryCount<=this.config.retryCount,s=!this.aborted&&xi.includes(t.code),s&&o)?(this.logger.warn("error auto retry: "+this.retryCount+"/"+this.config.retryCount+"."),this.putFile(),[2]):(this.onError(t),[3,5]);case 5:return[2]}})})},e.prototype.clear=function(){this.logger.info("start cleaning all xhr."),this.xhrList.forEach(function(r){r.onreadystatechange=null,r.abort()}),this.logger.info("cleanup completed."),this.xhrList=[]},e.prototype.stop=function(){this.logger.info("stop."),this.clear(),this.aborted=!0},e.prototype.addXhr=function(r){this.xhrList.push(r)},e.prototype.sendLog=function(r,t){var i,n;this.logger.report({code:t,reqId:r,remoteIp:"",upType:"jssdk-h5",size:this.file.size,time:Math.floor(this.uploadAt/1e3),port:si((i=this.uploadHost)===null||i===void 0?void 0:i.getUrl()),host:li((n=this.uploadHost)===null||n===void 0?void 0:n.getUrl()),bytesSent:this.progress?this.progress.total.loaded:0,duration:Math.floor((new Date().getTime()-this.uploadAt)/1e3)})},e.prototype.getProgressInfoItem=function(r,t,i){return ye({size:t,loaded:r,percent:r/t*100},i==null?{}:{fromCache:i})},e}(),Ci=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},e(r,t)};return function(r,t){e(r,t);function i(){this.constructor=r}r.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ie=globalThis&&globalThis.__assign||function(){return ie=Object.assign||function(e){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ie.apply(this,arguments)},de=globalThis&&globalThis.__awaiter||function(e,r,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function l(h){try{a(i.next(h))}catch(m){s(m)}}function p(h){try{a(i.throw(h))}catch(m){s(m)}}function a(h){h.done?o(h.value):n(h.value).then(l,p)}a((i=i.apply(e,r||[])).next())})},fe=globalThis&&globalThis.__generator||function(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,n,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(a){return function(h){return p([a,h])}}function p(a){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,n&&(o=a[0]&2?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return t.label++,{value:a[1],done:!1};case 5:t.label++,n=a[1],a=[0];continue;case 7:a=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){t=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){t.label=a[1];break}if(a[0]===6&&t.label<o[1]){t.label=o[1],o=a;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(a);break}o[2]&&t.ops.pop(),t.trys.pop();continue}a=r.call(e,t)}catch(h){a=[6,h],n=0}finally{i=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};function Si(e){var r=/^[1-9]\d*$/;return r.test(String(e))}var ki=function(e){Ci(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.run=function(){return de(this,void 0,void 0,function(){var t,i,n,o,s,l=this;return fe(this,function(p){switch(p.label){case 0:if(this.logger.info("start run Resume."),!this.config.chunkSize||!Si(this.config.chunkSize))throw new Y(L.InvalidChunkSize,"chunkSize must be a positive integer");if(this.config.chunkSize>1024)throw new Y(L.InvalidChunkSize,"chunkSize maximum value is 1024");return[4,this.initBeforeUploadChunks()];case 1:p.sent(),t=new Fr(function(a){return l.uploadChunk(a)},this.config.concurrentRequestLimit),i=null,n=this.getLocalKey(),o=this.chunks.map(function(a,h){return t.enqueue({chunk:a,index:h})}),p.label=2;case 2:return p.trys.push([2,5,,6]),[4,Promise.all(o)];case 3:return p.sent(),[4,this.mkFileReq()];case 4:return i=p.sent(),[3,6];case 5:throw s=p.sent(),s instanceof ne&&(s.code===612||s.code===400)&&Ie(n,this.logger),s;case 6:return Ie(n,this.logger),[2,i]}})})},r.prototype.uploadChunk=function(t){return de(this,void 0,void 0,function(){var i,n,o,s,l,p,a,h,m,b=this;return fe(this,function(_){switch(_.label){case 0:return i=t.index,n=t.chunk,o=this.cachedUploadedList[i],this.logger.info("upload part "+i+", cache:",o),s=this.config.checkByMD5,l=function(){b.usedCacheList[i]=!0,b.updateChunkProgress(n.size,i),b.uploadedList[i]=o,b.updateLocalCache()},o&&!s?(l(),[2]):[4,ni(n)];case 1:return p=_.sent(),this.logger.info("computed part md5.",p),o&&p===o.md5?(l(),[2]):(this.usedCacheList[i]=!1,a=function(w){b.updateChunkProgress(w.loaded,i)},h={body:n,md5:this.config.checkByServer?p:void 0,onProgress:a,onCreate:function(w){return b.addXhr(w)}},this.logger.info("part "+i+" start uploading."),[4,gi(this.token,this.key,t.index+1,this.getUploadInfo(),h)]);case 2:return m=_.sent(),this.logger.info("part "+i+" upload completed."),a({loaded:n.size,total:n.size}),this.uploadedList[i]={etag:m.data.etag,md5:m.data.md5,size:n.size},this.updateLocalCache(),[2]}})})},r.prototype.mkFileReq=function(){return de(this,void 0,void 0,function(){var t,i,n=this;return fe(this,function(o){switch(o.label){case 0:return t=ie(ie(ie({parts:this.uploadedList.map(function(s,l){return{etag:s.etag,partNumber:l+1}}),fname:this.putExtra.fname},this.putExtra.mimeType&&{mimeType:this.putExtra.mimeType}),this.putExtra.customVars&&{customVars:this.putExtra.customVars}),this.putExtra.metadata&&{metadata:this.putExtra.metadata}),this.logger.info("parts upload completed, make file.",t),[4,vi(this.token,this.key,this.getUploadInfo(),{onCreate:function(s){return n.addXhr(s)},body:JSON.stringify(t)})];case 1:return i=o.sent(),this.logger.info("finish Resume Progress."),this.updateMkFileProgress(1),[2,i]}})})},r.prototype.initBeforeUploadChunks=function(){return de(this,void 0,void 0,function(){var t,i,n;return fe(this,function(o){switch(o.label){case 0:return this.uploadedList=[],this.usedCacheList=[],t=ri(this.getLocalKey(),this.logger),t?[3,2]:(this.logger.info("init upload parts from api."),[4,fi(this.token,this.bucketName,this.key,this.uploadHost.getUrl())]);case 1:return i=o.sent(),this.logger.info("initd upload parts of id: "+i.data.uploadId+"."),this.uploadId=i.data.uploadId,this.cachedUploadedList=[],[3,3];case 2:n=["resume upload parts from local cache,","total "+t.data.length+" part,","id is "+t.id+"."],this.logger.info(n.join(" ")),this.cachedUploadedList=t.data,this.uploadId=t.id,o.label=3;case 3:return this.chunks=Jr(this.file,this.config.chunkSize),this.loaded={mkFileProgress:0,chunks:this.chunks.map(function(s){return 0})},this.notifyResumeProgress(),[2]}})})},r.prototype.getUploadInfo=function(){return{id:this.uploadId,url:this.uploadHost.getUrl()}},r.prototype.getLocalKey=function(){return ti(this.file.name,this.key,this.file.size)},r.prototype.updateLocalCache=function(){ei(this.getLocalKey(),{id:this.uploadId,data:this.uploadedList},this.logger)},r.prototype.updateChunkProgress=function(t,i){this.loaded.chunks[i]=t,this.notifyResumeProgress()},r.prototype.updateMkFileProgress=function(t){this.loaded.mkFileProgress=t,this.notifyResumeProgress()},r.prototype.notifyResumeProgress=function(){var t=this;this.progress={total:this.getProgressInfoItem(Qr(this.loaded.chunks)+this.loaded.mkFileProgress,this.file.size+1),chunks:this.chunks.map(function(i,n){var o=t.usedCacheList[n];return t.getProgressInfoItem(t.loaded.chunks[n],i.size,o)}),uploadInfo:{id:this.uploadId,url:this.uploadHost.getUrl()}},this.onData(this.progress)},r}(St),Ge=globalThis&&globalThis.__awaiter||function(e,r,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function l(h){try{a(i.next(h))}catch(m){s(m)}}function p(h){try{a(i.throw(h))}catch(m){s(m)}}function a(h){h.done?o(h.value):n(h.value).then(l,p)}a((i=i.apply(e,r||[])).next())})},Je=globalThis&&globalThis.__generator||function(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,n,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(a){return function(h){return p([a,h])}}function p(a){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,n&&(o=a[0]&2?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return t.label++,{value:a[1],done:!1};case 5:t.label++,n=a[1],a=[0];continue;case 7:a=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){t=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){t.label=a[1];break}if(a[0]===6&&t.label<o[1]){t.label=o[1],o=a;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(a);break}o[2]&&t.ops.pop(),t.trys.pop();continue}a=r.call(e,t)}catch(h){a=[6,h],n=0}finally{i=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},Ai=function(){function e(){this.crc=-1,this.table=this.makeTable()}return e.prototype.makeTable=function(){for(var r=new Array,t=0;t<256;t++){for(var i=t,n=0;n<8;n++)i&1?i=i>>>1^3988292384:i>>>=1;r[t]=i}return r},e.prototype.append=function(r){for(var t=this.crc,i=0;i<r.byteLength;i++)t=t>>>8^this.table[(t^r[i])&255];this.crc=t},e.prototype.compute=function(){return(this.crc^-1)>>>0},e.prototype.readAsUint8Array=function(r){return Ge(this,void 0,void 0,function(){var t;return Je(this,function(i){switch(i.label){case 0:return typeof r.arrayBuffer!="function"?[3,2]:(t=Uint8Array.bind,[4,r.arrayBuffer()]);case 1:return[2,new(t.apply(Uint8Array,[void 0,i.sent()]))];case 2:return[2,new Promise(function(n,o){var s=new FileReader;s.onload=function(){if(s.result==null){o();return}if(typeof s.result=="string"){o();return}n(new Uint8Array(s.result))},s.readAsArrayBuffer(r)})]}})})},e.prototype.file=function(r){return Ge(this,void 0,void 0,function(){var t,i,n,o,s,l;return Je(this,function(p){switch(p.label){case 0:return r.size<=V?(t=this.append,[4,this.readAsUint8Array(r)]):[3,2];case 1:return t.apply(this,[p.sent()]),[2,this.compute()];case 2:i=Math.ceil(r.size/V),n=0,p.label=3;case 3:return n<i?(o=n*V,s=n===i-1?r.size:o+V,[4,this.readAsUint8Array(r.slice(o,s))]):[3,6];case 4:l=p.sent(),this.append(new Uint8Array(l)),p.label=5;case 5:return n++,[3,3];case 6:return[2,this.compute()]}})})},e.file=function(r){var t=new e;return t.file(r)},e}(),Oi=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},e(r,t)};return function(r,t){e(r,t);function i(){this.constructor=r}r.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ti=globalThis&&globalThis.__awaiter||function(e,r,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function l(h){try{a(i.next(h))}catch(m){s(m)}}function p(h){try{a(i.throw(h))}catch(m){s(m)}}function a(h){h.done?o(h.value):n(h.value).then(l,p)}a((i=i.apply(e,r||[])).next())})},Ii=globalThis&&globalThis.__generator||function(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,n,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(a){return function(h){return p([a,h])}}function p(a){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,n&&(o=a[0]&2?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return t.label++,{value:a[1],done:!1};case 5:t.label++,n=a[1],a=[0];continue;case 7:a=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){t=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){t.label=a[1];break}if(a[0]===6&&t.label<o[1]){t.label=o[1],o=a;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(a);break}o[2]&&t.ops.pop(),t.trys.pop();continue}a=r.call(e,t)}catch(h){a=[6,h],n=0}finally{i=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},Ze=function(e){Oi(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.run=function(){return Ti(this,void 0,void 0,function(){var t,i,n,o,s=this;return Ii(this,function(l){switch(l.label){case 0:return this.logger.info("start run Direct."),t=new FormData,t.append("file",this.file),t.append("token",this.token),this.key!=null&&t.append("key",this.key),t.append("fname",this.putExtra.fname),this.config.checkByServer?[4,Ai.file(this.file)]:[3,2];case 1:i=l.sent(),t.append("crc32",i.toString()),l.label=2;case 2:return this.putExtra.customVars&&(this.logger.info("init customVars."),n=this.putExtra.customVars,Object.keys(n).forEach(function(p){return t.append(p,n[p].toString())}),this.logger.info("customVars inited.")),this.logger.info("formData inited."),[4,mi(this.uploadHost.getUrl(),t,{onProgress:function(p){s.updateDirectProgress(p.loaded,p.total)},onCreate:function(p){return s.addXhr(p)}})];case 3:return o=l.sent(),this.logger.info("Direct progress finish."),this.finishDirectProgress(),[2,o]}})})},r.prototype.updateDirectProgress=function(t,i){this.progress={total:this.getProgressInfoItem(t,i+1)},this.onData(this.progress)},r.prototype.finishDirectProgress=function(){if(!this.progress){this.logger.warn("progress is null."),this.progress={total:this.getProgressInfoItem(this.file.size,this.file.size)},this.onData(this.progress);return}var t=this.progress.total;this.progress={total:this.getProgressInfoItem(t.loaded+1,t.size)},this.onData(this.progress)},r}(St);function kt(e,r,t){t===void 0&&(t=3);var i=wt();i.open("POST","https://uplog.qbox.me/log/3"),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.setRequestHeader("Authorization",xe(e).Authorization),i.onreadystatechange=function(){i.readyState===4&&i.status!==200&&t>0&&kt(e,r,t-1)};var n=[r.code||"",r.reqId||"",r.host||"",r.remoteIp||"",r.port||"",r.duration||"",r.time||"",r.bytesSent||"",r.upType||"",r.size||""].join(",");i.send(n)}var Ei=globalThis&&globalThis.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),n,o=[],s;try{for(;(r===void 0||r-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){s={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},Oe=globalThis&&globalThis.__spread||function(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(Ei(arguments[r]));return e},zi=function(){function e(r,t,i,n){t===void 0&&(t=!0),i===void 0&&(i="OFF"),n===void 0&&(n="UPLOAD"),this.token=r,this.disableReport=t,this.level=i,this.prefix=n,this.id=++e.id}return e.prototype.getPrintPrefix=function(r){return"Qiniu-JS-SDK ["+r+"]["+this.prefix+"#"+this.id+"]:"},e.prototype.report=function(r,t){if(!this.disableReport)try{kt(this.token,r,t)}catch(i){this.warn(i)}},e.prototype.info=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var i=["INFO"];i.includes(this.level)&&console.log.apply(console,Oe([this.getPrintPrefix("INFO")],r))},e.prototype.warn=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var i=["INFO","WARN"];i.includes(this.level)&&console.warn.apply(console,Oe([this.getPrintPrefix("WARN")],r))},e.prototype.error=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var i=["INFO","WARN","ERROR"];i.includes(this.level)&&console.error.apply(console,Oe([this.getPrintPrefix("ERROR")],r))},e.id=0,e}(),Ke=globalThis&&globalThis.__awaiter||function(e,r,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function l(h){try{a(i.next(h))}catch(m){s(m)}}function p(h){try{a(i.throw(h))}catch(m){s(m)}}function a(h){h.done?o(h.value):n(h.value).then(l,p)}a((i=i.apply(e,r||[])).next())})},Qe=globalThis&&globalThis.__generator||function(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,n,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(a){return function(h){return p([a,h])}}function p(a){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,n&&(o=a[0]&2?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return t.label++,{value:a[1],done:!1};case 5:t.label++,n=a[1],a=[0];continue;case 7:a=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){t=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){t.label=a[1];break}if(a[0]===6&&t.label<o[1]){t.label=o[1],o=a;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(a);break}o[2]&&t.ops.pop(),t.trys.pop();continue}a=r.call(e,t)}catch(h){a=[6,h],n=0}finally{i=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},Mi=globalThis&&globalThis.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),n,o=[],s;try{for(;(r===void 0||r-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){s={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},Hi=globalThis&&globalThis.__spread||function(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(Mi(arguments[r]));return e},ge=new Map,Li=function(){function e(r,t){this.host=r,this.protocol=t}return e.prototype.isFrozen=function(){var r=new Date().getTime(),t=ge.get(this.host);return t!=null&&t>=r},e.prototype.freeze=function(r){r===void 0&&(r=20);var t=new Date().getTime()+r*1e3;ge.set(this.host,t)},e.prototype.unfreeze=function(){ge.delete(this.host)},e.prototype.getUrl=function(){return this.protocol+"://"+this.host},e.prototype.getUnfreezeTime=function(){return ge.get(this.host)},e}(),Yi=function(){function e(r){r===void 0&&(r=[]),this.initHosts=r,this.cachedHostsMap=new Map}return e.prototype.register=function(r,t,i,n){this.cachedHostsMap.set(r+"@"+t,i.map(function(o){return new Li(o,n)}))},e.prototype.refresh=function(r,t,i){var n,o,s,l;return Ke(this,void 0,void 0,function(){var p,a,h;return Qe(this,function(m){switch(m.label){case 0:return p=this.cachedHostsMap.get(r+"@"+t)||[],p.length>0?[2]:this.initHosts.length>0?(this.register(r,t,this.initHosts,i),[2]):[4,di(r,t,i)];case 1:return a=m.sent(),(a==null?void 0:a.data)!=null&&(h=Hi(((o=(n=a.data.up)===null||n===void 0?void 0:n.acc)===null||o===void 0?void 0:o.main)||[],((l=(s=a.data.up)===null||s===void 0?void 0:s.acc)===null||l===void 0?void 0:l.backup)||[]),this.register(r,t,h,i)),[2]}})})},e.prototype.getUp=function(r,t,i){return Ke(this,void 0,void 0,function(){var n,o,s;return Qe(this,function(l){switch(l.label){case 0:return[4,this.refresh(r,t,i)];case 1:return l.sent(),n=this.cachedHostsMap.get(r+"@"+t)||[],n.length===0?[2,null]:(o=n.filter(function(p){return!p.isFrozen()}),o.length>0?[2,o[0]]:(s=n.slice().sort(function(p,a){return(p.getUnfreezeTime()||0)-(a.getUnfreezeTime()||0)}),[2,s[0]]))}})})},e}();function Pi(e,r,t,i){return e.config&&e.config.forceDirect?(i.info("ues forceDirect mode."),new Ze(e,r,t,i)):e.file.size>4*V?(i.info("file size over 4M, use Resume."),new ki(e,r,t,i)):(i.info("file size less or equal than 4M, use Direct."),new Ze(e,r,t,i))}function Fi(e,r,t,i,n){var o=new zi(t,n==null?void 0:n.disableStatisticsReport,n==null?void 0:n.debugLogLevel,e.name),s={file:e,key:r,token:t,putExtra:i,config:$i(n,o)},l=new Yi(s.config.uphost);return new jr(function(p){var a=Pi(s,{onData:function(h){return p.next(h)},onError:function(h){return p.error(h)},onComplete:function(h){return p.complete(h)}},l,o);return a.putFile(),a.stop.bind(a)})}var G=globalThis&&globalThis.__assign||function(){return G=Object.assign||function(e){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G.apply(this,arguments)},Xi=globalThis&&globalThis.__rest||function(e,r){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.indexOf(i)<0&&(t[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)r.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(t[i[n]]=e[i[n]]);return t},Ui=globalThis&&globalThis.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),n,o=[],s;try{for(;(r===void 0||r-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){s={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},Te=globalThis&&globalThis.__spread||function(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(Ui(arguments[r]));return e};function $i(e,r){var t=G({},e),i=t.upprotocol,n=t.uphost,o=Xi(t,["upprotocol","uphost"]),s=G({uphost:[],retryCount:3,checkByMD5:!1,forceDirect:!1,useCdnDomain:!0,checkByServer:!1,concurrentRequestLimit:3,chunkSize:wi,upprotocol:"https",debugLogLevel:"OFF",disableStatisticsReport:!1},o);i&&(s.upprotocol=i.replace(/:$/,""));var l=[];if(r&&(e==null?void 0:e.uphost)!=null&&(e==null?void 0:e.region)!=null&&r.warn("do not use both the uphost and region config."),n)Array.isArray(n)?l.push.apply(l,Te(n)):l.push(n);else if(s!=null&&s.region){var p=ui[s==null?void 0:s.region];s.useCdnDomain?l.push.apply(l,Te(p.cdnUphost)):l.push.apply(l,Te(p.srcUphost))}return G(G({},s),{uphost:l.filter(Boolean)})}var et=globalThis&&globalThis.__assign||function(){return et=Object.assign||function(e){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},et.apply(this,arguments)};globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var Ee={PNG:"image/png",JPEG:"image/jpeg",WEBP:"image/webp",BMP:"image/bmp"};Object.keys(Ee).map(function(e){return Ee[e]});Ee.JPEG;function ji(){return Zt.get("/public/qiniuToken/")}function At(){return{upload:(r,t)=>new Promise((i,n)=>{ji().then(o=>{let s=o.domain,l=o.token,p=r+"/"+t.name.substring(0,t.name.lastIndexOf("."))+"-"+new Date().getTime()+t.name.substring(t.name.lastIndexOf(".")),a={useCdnDomain:!0,region:D.z1};Fi(t,p,l,{fname:"",params:{},mimeType:null},a).subscribe({next:b=>{console.log(b)},error:b=>{console.log(b),n(b)},complete:b=>{let _=s+b.key;i(_)}})}).catch(o=>{console.log(o)})})}}const Ot=e=>(it("data-v-302b7082"),e=e(),ot(),e),Bi=Ot(()=>M("p",null,"\u9009\u62E9\u56FE\u7247",-1)),Ri={class:"cropper","element-loading-text":"\u56FE\u7247\u4E0A\u4F20\u4E2D..."},Wi={class:"cropper-area"},Di=Ot(()=>M("label",{class:"pointer",for:"uploads"},"\u66F4\u6362\u56FE\u7247",-1)),Ni=Z("\u53D6 \u6D88"),qi=Z("\u786E \u5B9A"),Vi={__name:"UploadImgFixed",props:{width:{type:Number,required:!1,default:200},height:{type:Number,required:!1,default:200},dir:{type:String,required:!0,default:"upload"}},emits:["saveImg"],setup(e,{expose:r,emit:t}){const i=e;let{MyIcon:n}=dt(),{timeFile:o}=gt(),{upload:s}=At();tt(()=>(console.log(i.width),console.log(i.height),Object.is(i.width,NaN)&&Object.is(i.height,NaN)?i.width/i.height:1));const l=W(null),p=W(""),a=W(!1),h=c=>{let u;"raw"in c?(console.log("element\u5BF9\u8C61"),u=c.raw):(console.log("\u539F\u751F\u5BF9\u8C61"),u=c.target.files[0]);const d=new FileReader;d.onload=f=>{p.value=f.target.result},d.readAsDataURL(u),a.value=!0},m=Me({}),b=c=>{Object.assign(m,c)},_=c=>{c=c||1,l.value.changeScale(c)},w=c=>{c===1?l.value.rotateLeft():l.value.rotateRight()},x=()=>{l.value.refresh()},y=W(!1),g=()=>{l.value.getCropBlob(c=>{console.log(c),y.value=!0;const u=new File([c],o(Date.now())+".jpg",{type:c.type});console.log(u),s(i.dir,u).then(d=>{console.log(d),oe({message:"\u56FE\u7247\u4E0A\u4F20\u6210\u529F\uFF01",type:"success"}),t("saveImg",d),a.value=!1,y.value=!1}).catch(d=>{console.log(d),oe.error("\u56FE\u7247\u4E0A\u4F20\u5931\u8D25\uFF01"),y.value=!1})})};return r({test:()=>{console.log("\u8FD9\u662F\u56FE\u7247\u4E0A\u4F20\u7EC4\u4EF6\u7684\u65B9\u6CD5")},uploadChange:h}),(c,u)=>{const d=He,f=rt,z=nt,P=at,X=st;return $(),B("div",null,[C(f,{accept:".jpg,.jpeg,.png",action:"./","auto-upload":!1,"on-change":h,"show-file-list":!1},{default:I(()=>[C(d,{class:"upload-btn",size:"large"},{default:I(()=>[C(U(n),{class:"upload-icon",type:"icon-upload-img"}),Bi]),_:1})]),_:1}),C(P,{title:"\u56FE\u7247\u88C1\u526A",modelValue:a.value,"onUpdate:modelValue":u[7]||(u[7]=H=>a.value=H),"append-to-body":"",center:""},{footer:I(()=>[C(d,{size:"medium",type:"success"},{default:I(()=>[Di]),_:1}),M("input",{type:"file",id:"uploads",style:{position:"absolute",clip:"rect(0 0 0 0)"},accept:"image/png, image/jpeg, image/jpg",onChange:u[0]||(u[0]=H=>h(H))},null,32),C(z,{class:"cropper-btn-group"},{default:I(()=>[C(d,{size:"medium",type:"primary",plain:"",onClick:u[1]||(u[1]=H=>_(1))},{default:I(()=>[C(U(n),{type:"icon-amplification"})]),_:1}),C(d,{size:"medium",type:"primary",plain:"",onClick:u[2]||(u[2]=H=>_(-1))},{default:I(()=>[C(U(n),{type:"icon-narrow"})]),_:1}),C(d,{size:"medium",type:"primary",plain:"",onClick:u[3]||(u[3]=H=>x())},{default:I(()=>[C(U(n),{type:"icon-reset"})]),_:1}),C(d,{size:"medium",type:"primary",plain:"",onClick:u[4]||(u[4]=H=>w(1))},{default:I(()=>[C(U(n),{type:"icon-clockwise-sense"})]),_:1}),C(d,{size:"medium",type:"primary",plain:"",onClick:u[5]||(u[5]=H=>w(-1))},{default:I(()=>[C(U(n),{type:"icon-clockwise-dirction"})]),_:1})]),_:1}),C(d,{size:"medium",onClick:u[6]||(u[6]=H=>a.value=!1)},{default:I(()=>[Ni]),_:1}),C(d,{type:"primary",onClick:g,size:"medium"},{default:I(()=>[qi]),_:1})]),default:I(()=>[J(($(),B("div",Ri,[M("span",Wi,[C(U(Ye),{ref_key:"cropper",ref:l,img:p.value,autoCrop:!0,autoCropWidth:i.width,autoCropHeight:i.height,fixedNumber:[i.width/i.height,1],fixed:!0,onRealTime:b},null,8,["img","autoCropWidth","autoCropHeight","fixedNumber"])])])),[[X,y.value]])]),_:1},8,["modelValue"])])}}};var Gi=Le(Vi,[["__scopeId","data-v-302b7082"]]);const Tt=e=>(it("data-v-43fcf7c0"),e=e(),ot(),e),Ji=Tt(()=>M("p",null,"\u9009\u62E9\u56FE\u7247",-1)),Zi={class:"cropper","element-loading-text":"\u56FE\u7247\u4E0A\u4F20\u4E2D..."},Ki={class:"cropper-area"},Qi=Tt(()=>M("label",{class:"pointer",for:"uploads"},"\u66F4\u6362\u56FE\u7247",-1)),eo=Z("\u53D6 \u6D88"),to=Z("\u786E \u5B9A"),ro={__name:"UploadImgAny",props:{width:{type:Number,required:!1,default:200},height:{type:Number,required:!1,default:200},dir:{type:String,required:!0,default:"upload"}},emits:["saveImg"],setup(e,{expose:r,emit:t}){const i=e;let{MyIcon:n}=dt(),{timeFile:o}=gt(),{upload:s}=At();tt(()=>(console.log(i.width),console.log(i.height),Object.is(i.width,NaN)&&Object.is(i.height,NaN)?i.width/i.height:1));const l=W(null),p=W(""),a=W(!1),h=c=>{let u;"raw"in c?(console.log("element\u5BF9\u8C61"),u=c.raw):(console.log("\u539F\u751F\u5BF9\u8C61"),u=c.target.files[0]);const d=new FileReader;d.onload=f=>{p.value=f.target.result},d.readAsDataURL(u),a.value=!0},m=Me({}),b=c=>{Object.assign(m,c)},_=c=>{c=c||1,l.value.changeScale(c)},w=c=>{c===1?l.value.rotateLeft():l.value.rotateRight()},x=()=>{l.value.refresh()},y=W(!1),g=()=>{l.value.getCropBlob(c=>{console.log(c),y.value=!0;const u=new File([c],o(Date.now())+".jpg",{type:c.type});console.log(u),s(i.dir,u).then(d=>{console.log(d),oe({message:"\u56FE\u7247\u4E0A\u4F20\u6210\u529F\uFF01",type:"success"}),t("saveImg",d),a.value=!1,y.value=!1}).catch(d=>{console.log(d),oe.error("\u56FE\u7247\u4E0A\u4F20\u5931\u8D25\uFF01"),y.value=!1})})};return r({test:()=>{console.log("\u8FD9\u662F\u56FE\u7247\u4E0A\u4F20\u7EC4\u4EF6\u7684\u65B9\u6CD5")},uploadChange:h}),(c,u)=>{const d=He,f=rt,z=nt,P=at,X=st;return $(),B("div",null,[C(f,{accept:".jpg,.jpeg,.png",action:"./","auto-upload":!1,"on-change":h,"show-file-list":!1},{default:I(()=>[C(d,{class:"upload-btn",size:"large"},{default:I(()=>[C(U(n),{class:"upload-icon",type:"icon-upload-img"}),Ji]),_:1})]),_:1}),C(P,{title:"\u56FE\u7247\u88C1\u526A",modelValue:a.value,"onUpdate:modelValue":u[7]||(u[7]=H=>a.value=H),"append-to-body":"",center:""},{footer:I(()=>[C(d,{type:"success"},{default:I(()=>[Qi]),_:1}),M("input",{type:"file",id:"uploads",style:{position:"absolute",clip:"rect(0 0 0 0)"},accept:"image/png, image/jpeg, image/jpg",onChange:u[0]||(u[0]=H=>h(H))},null,32),C(z,{class:"cropper-btn-group"},{default:I(()=>[C(d,{type:"primary",plain:"",onClick:u[1]||(u[1]=H=>_(1))},{default:I(()=>[C(U(n),{type:"icon-amplification"})]),_:1}),C(d,{type:"primary",plain:"",onClick:u[2]||(u[2]=H=>_(-1))},{default:I(()=>[C(U(n),{type:"icon-narrow"})]),_:1}),C(d,{type:"primary",plain:"",onClick:u[3]||(u[3]=H=>x())},{default:I(()=>[C(U(n),{type:"icon-reset"})]),_:1}),C(d,{type:"primary",plain:"",onClick:u[4]||(u[4]=H=>w(1))},{default:I(()=>[C(U(n),{type:"icon-clockwise-sense"})]),_:1}),C(d,{type:"primary",plain:"",onClick:u[5]||(u[5]=H=>w(-1))},{default:I(()=>[C(U(n),{type:"icon-clockwise-dirction"})]),_:1})]),_:1}),C(d,{onClick:u[6]||(u[6]=H=>a.value=!1)},{default:I(()=>[eo]),_:1}),C(d,{type:"primary",onClick:g},{default:I(()=>[to]),_:1})]),default:I(()=>[J(($(),B("div",Zi,[M("span",Ki,[C(U(Ye),{ref_key:"cropper",ref:l,img:p.value,autoCrop:!0,onRealTime:b},null,8,["img"])])])),[[X,y.value]])]),_:1},8,["modelValue"])])}}};var io=Le(ro,[["__scopeId","data-v-43fcf7c0"]]);const oo={class:"main"},no=Z("\u590D\u5236\u56FE\u7247\u5730\u5740"),ao=Z("\u53D6\u6D88"),so={__name:"Image",setup(e){const{toClipboard:r}=Qt(),t=Me({value:"",directory:"",url:"",width:100,height:100}),i=[{value:0,directory:"articleCover",label:"\u6587\u7AE0\u5C01\u9762",width:540,height:360},{value:1,directory:"noteCover",label:"\u7B14\u8BB0\u5C01\u9762",width:425,height:225},{value:2,directory:"carousel",label:"\u8F6E\u64AD\u56FE",width:900,height:500},{value:3,directory:"markdown",label:"\u5BCC\u6587\u672C\u56FE\u7247",width:NaN,height:NaN},{value:4,directory:"link",label:"\u53CB\u60C5\u94FE\u63A5",width:50,height:50},{value:5,directory:"photo",label:"\u7528\u6237\u5934\u50CF",width:50,height:50},{value:6,directory:"image",label:"\u5176\u4ED6\u56FE\u7247",width:NaN,height:NaN}],n=p=>{console.log(p),t.directory=i[p].directory,t.width=i[p].width,t.height=i[p].height},o=p=>{console.log(p),t.url=p},s=()=>{console.log("\u590D\u5236\u4E86\u554A");try{r(t.url),console.log(t.url),oe({message:"\u56FE\u7247\u94FE\u63A5\u6210\u529F\u590D\u5236\u5230\u526A\u5207\u677F\uFF01",type:"success"})}catch(p){console.error(p)}},l=()=>{t.url="",t.directory=""};return(p,a)=>{const h=Rt,m=Wt,b=Dt,_=Nt,w=He,x=qt,y=Vt;return $(),B("div",oo,[C(y,{shadow:"hover"},{default:I(()=>[C(x,{model:t,"label-width":"120px"},{default:I(()=>[C(b,{label:"\u56FE\u7247\u7C7B\u578B\uFF1A"},{default:I(()=>[C(m,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=g=>t.value=g),onChange:n,placeholder:"\u8BF7\u9009\u62E9\u4E0A\u4F20\u56FE\u7247\u7C7B\u578B",size:"large"},{default:I(()=>[($(),B(Gt,null,Jt(i,g=>C(h,{key:g.value,label:g.label,value:g.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),J(M("span",null,[M("p",null,"\u56FE\u7247\u4E0A\u4F20\u76EE\u5F55\uFF1A"+te(t.directory),1),M("p",null,"\u56FE\u7247\u4E0A\u4F20\u5C3A\u5BF8\uFF1A"+te(t.width)+" X "+te(t.height),1)],512),[[ve,t.directory]])]),_:1}),t.width?($(),Fe(b,{key:0,label:"\u56FE\u7247\u4E0A\u4F20\uFF1A"},{default:I(()=>[C(Gi,{width:t.width,height:t.height,dir:t.directory,onSaveImg:o},null,8,["width","height","dir"])]),_:1})):($(),Fe(b,{key:1,label:"\u56FE\u7247\u4E0A\u4F20\uFF1A"},{default:I(()=>[C(io,{dir:t.directory,onSaveImg:o},null,8,["dir"])]),_:1})),J(C(b,{label:"\u56FE\u7247\u9884\u89C8\uFF1A"},{default:I(()=>[C(_,{src:t.url,fit:"contain"},null,8,["src"])]),_:1},512),[[ve,t.url]]),C(b,null,{default:I(()=>[C(w,{type:"primary",onClick:s,size:"large"},{default:I(()=>[no]),_:1}),C(w,{onClick:l,size:"large"},{default:I(()=>[ao]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}};var fo=Le(so,[["__scopeId","data-v-74e8409c"]]);export{fo as default};
